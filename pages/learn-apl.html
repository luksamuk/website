<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-us" xml:lang="en-us">
<head>
<!-- 2024-06-01 Sat 23:03 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>"Learn APL" Notes</title>
<meta name="author" content="Lucas Vieira" />
<meta name="description" content="Programming, Tech, and occasional rant space by Lucas Vieira" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
  #content { max-width: 60em; margin: auto; }
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #e6e6e6;
    border-radius: 3px;
    background-color: #f2f2f2;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
  }
  pre.src:before {
    display: none;
    position: absolute;
    top: -8px;
    right: 12px;
    padding: 3px;
    color: #555;
    background-color: #f2f2f299;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-authinfo::before { content: 'Authinfo'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { }
</style>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-22RF3F5XE0"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'G-22RF3F5XE0');
</script>
<link rel="stylesheet" type="text/css" href="../css/main.css" />
<link rel="stylesheet" type="text/css" href="../css/syntax.css" />
<link id="theme-css" rel="stylesheet" type="text/css" href="../css/dark-theme.css" />
<link rel="icon" type="image/jpg" href="../img/cat-i-mage.jpg" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:image" content="../img/cat-i-mage.jpg">
<meta name="theme-color" content="#14171e">
</head>
<body>
<div id="content" class="content">

<nav><h1><a href=\"../\">The Alchemist's Hideout</a></h1></nav>

<center><h1><i>Learn APL</i> Notes</h1></center>

<p>
I use this page as reference card when I have any doubts about the APL
language.
</p>

<p>
This file follows APL Wiki's <a href="https://aplwiki.com/LearnApl/TutorialContents">APL Tutorial</a> and <a href="https://www.aplwiki.com/LearnMoreApl/FurtherTopics">Further Topics in APL</a>
guides, plus occasional extra looks at <a href="https://tryapl.org/">TryAPL</a> for missing stuff on
certain symbols (I made sure it was compatible with GNU APL).
</p>

<p>
I do not guarantee a comprehensive guide to APL here. This is mainly
for future consulting.
</p>

<p>
Plus, make sure you are using a monospace font which supports APL
characters!
</p>

<p>
Also see the <a href="https://www.gnu.org/software/apl/apl.html">GNU APL Manual</a>.
</p>

<h3><a href=\"..">Back to last page</a></h3>

<div id="table-of-contents" role="doc-toc">
<h2>Table of Contents</h2>
<div id="text-table-of-contents" role="doc-toc">
<ul>
<li><a href="#org671733e">Getting Started</a>
<ul>
<li><a href="#org4f914e9">Startup</a></li>
<li><a href="#org3ee2eea">Simple arithmetic</a>
<ul>
<li><a href="#org42b77d8">Arithmetic functions</a></li>
<li><a href="#orgd06cae1">Arithmetic on lists of numbers</a></li>
<li><a href="#org4317f46">Order of execution</a></li>
<li><a href="#org3a47ad4">Dual-purpose functions</a></li>
<li><a href="#org48b73d3">Ceiling and floor</a></li>
<li><a href="#org5ccca9b">Ending a session</a></li>
<li><a href="#org52a43f7">Exercises</a></li>
</ul>
</li>
<li><a href="#orgafb9ce1">Variables</a>
<ul>
<li><a href="#org5f2d3be">Assignments</a></li>
<li><a href="#org70b352c">Variable names</a></li>
<li><a href="#org0f5196b">Assigning lists to variables</a></li>
<li><a href="#orge99008d">System commands</a></li>
<li><a href="#org629b72b">Character assignments</a></li>
<li><a href="#orgfed555c">Multiple assignments</a></li>
<li><a href="#org32a6973">Displaying variables together</a></li>
<li><a href="#orgdfa4d46">Joining lists</a></li>
<li><a href="#org83bb56c">Joining and merging variables</a></li>
<li><a href="#org6b39c6b">Simple and nested variables</a></li>
<li><a href="#org23375a3">Mixed variables</a></li>
<li><a href="#orgaef4a5c">Exercises</a></li>
<li><a href="#orgb142602">Cleanup</a></li>
</ul>
</li>
<li><a href="#org7704436">Tables</a>
<ul>
<li><a href="#org04179ba">The Roll function</a></li>
<li><a href="#orgf12a4a4">The Iota function</a></li>
<li><a href="#orgd8ed2a4">Setting up tables</a></li>
<li><a href="#org4ce9c9f">Arithmetic on tables</a></li>
<li><a href="#orgb1ee1ea">Catenating tables</a></li>
<li><a href="#org99e6e80">Selecting elements</a></li>
<li><a href="#org6fdc5e4">Dimensions</a></li>
<li><a href="#org3889ac8">Enquiring about the size of data</a></li>
<li><a href="#org046ac81">Tables of characters</a></li>
<li><a href="#org873830e">Mixed tables</a></li>
<li><a href="#orga63391c">Nested tables</a></li>
<li><a href="#org4779ebe">Depth</a></li>
<li><a href="#org132b10f">Practice</a></li>
<li><a href="#orge01d1e5">Exercises</a></li>
<li><a href="#orgd377c9e">Cleanup</a></li>
</ul>
</li>
<li><a href="#org46c73b2">Writing a function</a>
<ul>
<li><a href="#org21aed6b">Precondition: the Slash operator</a></li>
<li><a href="#org2b85d17">User functions</a></li>
<li><a href="#org9025f21">Saving a workspace</a></li>
<li><a href="#org98d2174">User functions with arguments</a></li>
<li><a href="#org38a2c6b">Using function results in other expressions</a></li>
<li><a href="#orgfc36d1e">Cleanup</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org943e928">APL Concepts</a>
<ul>
<li><a href="#org705aa15">Overview of the APL System</a>
<ul>
<li><a href="#orga5e56af">Data</a></li>
<li><a href="#org1f4e515">Modes</a></li>
<li><a href="#orgecf28a1">Built-in functions and operators</a></li>
<li><a href="#org30518af">System functions and variables</a></li>
<li><a href="#org1830874">System commands</a></li>
<li><a href="#orgebe5d93">User-defined functions and operators</a></li>
<li><a href="#org2742c94">Files</a></li>
<li><a href="#orga1c2f4e">Error handling</a></li>
</ul>
</li>
<li><a href="#org1603dc7">The Workspace</a>
<ul>
<li><a href="#org51118fd">Functions, operators, classes</a></li>
<li><a href="#org0df0ac0">Workspace size</a></li>
<li><a href="#org41b73dc">Managing the workspace</a></li>
<li><a href="#org7955515">System variables</a></li>
<li><a href="#org56727db">System functions</a></li>
</ul>
</li>
<li><a href="#org8733318">Data</a>
<ul>
<li><a href="#orgfd42da4">Variables</a></li>
<li><a href="#orgfee5efc">Names</a></li>
<li><a href="#orgb2c9b5b">Types of data</a></li>
<li><a href="#org24adb04">Size, shape and depth</a></li>
<li><a href="#org34e96a8">Setting up data structures</a></li>
<li><a href="#org31a3bfc">Data structure <i>versus</i> data value</a></li>
<li><a href="#orgc65b76d">Empty data structures</a></li>
<li><a href="#orgbbe38c0">Dimension ordering</a></li>
<li><a href="#org2a7283e">Indexing</a></li>
</ul>
</li>
<li><a href="#org983c3dd">Built-in functions</a>
<ul>
<li><a href="#org7a8156e">Arguments</a></li>
<li><a href="#org6085630">Execution order</a></li>
<li><a href="#org4f2cd8d">Numbers or text</a></li>
<li><a href="#org4f7cf2c">Shape and size of data</a></li>
<li><a href="#orge2cc5f7">Groups of functions</a></li>
<li><a href="#orgcf52bcc">System functions</a></li>
</ul>
</li>
<li><a href="#orge4dd06a">Built-in operators</a>
<ul>
<li><a href="#orgbd830fa">Reduce and scan</a></li>
<li><a href="#org05a3a65">Compress and expand</a></li>
<li><a href="#org1ad655d">Outer and inner products</a></li>
<li><a href="#org8fdbd33">Each</a></li>
<li><a href="#org84890a0">Axis</a></li>
</ul>
</li>
<li><a href="#orgd4fd231">User-defined Functions</a>
<ul>
<li><a href="#orgf947c09">Arguments and results</a></li>
<li><a href="#orge94dfe7">User-defined operators</a></li>
<li><a href="#org7244dbf">Editing functions</a></li>
<li><a href="#orgff2f092">The function header</a></li>
<li><a href="#org75ebee7">The operator header</a></li>
<li><a href="#orgd80340a">Local and global variables</a></li>
<li><a href="#orgb711834">Branching</a></li>
<li><a href="#org3d313a4">Extra: Lambdas</a></li>
</ul>
</li>
<li><a href="#orgab4b107">Error Handling</a>
<ul>
<li><a href="#org695144f">Errors in calculator mode</a></li>
<li><a href="#org468189f">Errors in user-defined functions or operators</a></li>
<li><a href="#orgae6bf57">The state indicator</a></li>
<li><a href="#org3f737b8">Action after suspended execution</a></li>
<li><a href="#org0cded9e">Error trapping and tracing</a></li>
</ul>
</li>
<li><a href="#org47bfc5e">Formatting</a>
<ul>
<li><a href="#org8a5dfbb">The "Format" primitive</a></li>
<li><a href="#orgd7060a8">The system function <code>⎕FMT</code></a></li>
</ul>
</li>
<li><a href="#org920be5c">End of Tutorial</a></li>
</ul>
</li>
<li><a href="#org2d6a1e4">Further Topics in APL</a>
<ul>
<li><a href="#org9618027">Displaying the Shape of an Array</a></li>
<li><a href="#org333c38c">Array Type and Prototype</a>
<ul>
<li><a href="#org6dc3b1f">Array Type and Prototype</a></li>
<li><a href="#orga04ad08">Prototypes of nested arrays</a></li>
<li><a href="#orgd0c7a9b">The prototype as a fill element</a></li>
</ul>
</li>
<li><a href="#org9b4c1a8">Vector Notation</a></li>
<li><a href="#org5f52aa8">Variables and Indexing</a>
<ul>
<li><a href="#org0b4e8c7">The Index (<code>⌷</code>) function</a></li>
</ul>
</li>
<li><a href="#org0b195f6">Multiple Specification</a></li>
<li><a href="#org8d96932">Selective Specification</a></li>
<li><a href="#orgb1f42f2">Binding Strengths</a></li>
<li><a href="#orgb9d9e7a">Pervasive Functions</a></li>
<li><a href="#orgf880cef">OO, Classes and Inheritance</a></li>
</ul>
</li>
<li><a href="#orge54727c">Finishing</a></li>
</ul>
</div>
</div>
<div id="outline-container-org671733e" class="outline-2">
<h2 id="org671733e">Getting Started</h2>
<div class="outline-text-2" id="text-org671733e">
</div>
<div id="outline-container-org4f914e9" class="outline-3">
<h3 id="org4f914e9">Startup</h3>
<div class="outline-text-3" id="text-org4f914e9">
<p>
Let's make sure our file executes. Executing the tangled file will run
everything done in the tutorial.
</p>

<p>
Also, for live interaction, use <code>gnu-apl-interactive-send-*</code>.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">#!/usr/bin/apl --id <span style="color: #f5c791;">1010</span>
</pre>
</div>

<p>
Oh, and just so you know, use a unicode font which supports this stuff.
</p>
</div>
</div>
<div id="outline-container-org3ee2eea" class="outline-3">
<h3 id="org3ee2eea">Simple arithmetic</h3>
<div class="outline-text-3" id="text-org3ee2eea">
<p>
Use <code>⍝</code> at the beginning of any comment.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053;&#9053;&#9053; Getting started</span>

<span style="color: #454459;">&#9053;&#9053; This is a comment.</span>
<span style="color: #454459;">&#9053;&#9053; Check the GNU APL keyboard for shortcut hints</span>
<span style="color: #454459;">&#9053;&#9053; at any time.</span>

<span style="color: #454459;">&#9053; Simple Arithmetic</span>
</pre>
</div>
</div>
<div id="outline-container-org42b77d8" class="outline-4">
<h4 id="org42b77d8">Arithmetic functions</h4>
<div class="outline-text-4" id="text-org42b77d8">
<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">5+12</span>

<span style="color: #f5c791;">18</span>&#247;<span style="color: #f5c791;">3</span>
<span style="color: #f5c791;">108</span>&#247;<span style="color: #f5c791;">11</span>

<span style="color: #f5c791;">4</span>&#215;<span style="color: #f5c791;">7</span>
<span style="color: #f5c791;">3</span>.<span style="color: #f5c791;">893</span>&#215;<span style="color: #f5c791;">7</span>.<span style="color: #f5c791;">6</span>
</pre>
</div>

<p>
Use <code>-</code> for subtraction, and <code>¯</code> for negative signal.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">100-95</span>
<span style="color: #f5c791;">8-16</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd06cae1" class="outline-4">
<h4 id="orgd06cae1">Arithmetic on lists of numbers</h4>
<div class="outline-text-4" id="text-orgd06cae1">
<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">3+2</span> <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">11</span> <span style="color: #f5c791;">7</span> <span style="color: #f5c791;">5</span>
</pre>
</div>

<p>
Spot the difference on applying a sum to each element and applying a
sum on two numbers:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">1+2</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>
<span style="color: #f5c791;">1+234</span>
</pre>
</div>

<p>
Lists can be on either side of the sign.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">6</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">8</span> <span style="color: #f5c791;">1+3</span>
<span style="color: #f5c791;">2</span>.<span style="color: #f5c791;">5</span> <span style="color: #f5c791;">33</span>.<span style="color: #f5c791;">7</span> <span style="color: #f5c791;">12</span> <span style="color: #f5c791;">8</span>&#247;<span style="color: #f5c791;">15</span>
<span style="color: #f5c791;">9</span>.<span style="color: #f5c791;">8</span> <span style="color: #f5c791;">11</span>.<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">17</span> <span style="color: #f5c791;">1</span>.<span style="color: #f5c791;">2</span>&#215;<span style="color: #f5c791;">1</span>.<span style="color: #f5c791;">175</span>
</pre>
</div>

<p>
It is possible to perform arithmetic between two lists in a
per-element basis, but only if their length matches.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">12</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">29</span> <span style="color: #f5c791;">4</span>&#215;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">2</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org4317f46" class="outline-4">
<h4 id="org4317f46">Order of execution</h4>
<div class="outline-text-4" id="text-org4317f46">
<p>
APL runs stuff from right to left, since there are so many functions
on the language.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">3</span>&#215;<span style="color: #f5c791;">3-1</span>
</pre>
</div>

<p>
That is because APL groups things from right to left as well.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">1+8</span>&#247;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>
</pre>
</div>

<p>
If you need to make things unambiguous, use parentheses.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">(<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">1+8</span>)&#247;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>
</pre>
</div>

<p>
Remember again the difference between <code>-</code> and <code>¯</code>!
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">1985</span> - <span style="color: #f5c791;">1066</span>       <span style="color: #454459;">&#9053; Difference of two numbers</span>
<span style="color: #f5c791;">3</span> &#175;<span style="color: #f5c791;">1</span> &#175;<span style="color: #f5c791;">7</span> + &#175;<span style="color: #f5c791;">4</span> &#175;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #454459;">&#9053; Sum between two lists with negative numbers</span>

<span style="color: #f5c791;">2-3+5</span>             <span style="color: #454459;">&#9053; This does 3+5, then does 2-8</span>
<span style="color: #f5c791;">2</span> &#175;<span style="color: #f5c791;">3+5</span>            <span style="color: #454459;">&#9053; This adds 5 to the number list 2 &#175;3</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3a47ad4" class="outline-4">
<h4 id="org3a47ad4">Dual-purpose functions</h4>
<div class="outline-text-4" id="text-org3a47ad4">
<p>
Some functions can be used for more than one purpose.
</p>

<p>
When used in infix notation, ordinary operations have their intended
effect:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">5+4</span>
<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4+3</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">6</span>
</pre>
</div>

<p>
You can, however, use the functions in prefix notation, which will
change their effect.
</p>

<p>
<code>+</code> appears to do nothing. Its true usage happens for assignment, which
we'll see next.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">+12
</pre>
</div>

<p>
<code>-</code> inverts the signal of al numbers on the list.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">- <span style="color: #f5c791;">3</span> &#175;<span style="color: #f5c791;">6</span> &#175;<span style="color: #f5c791;">8</span> <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">12</span> &#175;<span style="color: #f5c791;">9</span>
</pre>
</div>

<p>
<code>÷</code> takes the reciprocal of all numbers (divides 1 by them).
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#247;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">10</span> <span style="color: #f5c791;">100</span>
</pre>
</div>

<p>
<code>×</code> takes the sign of each number from the list. Yields <code>1</code> for positive
numbers, <code>¯1</code> for negative, and <code>0</code> for zero.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#215;<span style="color: #f5c791;">8</span> <span style="color: #f5c791;">0</span> &#175;<span style="color: #f5c791;">3</span> &#175;<span style="color: #f5c791;">7</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">4</span>
</pre>
</div>

<p>
There is no definition for postfix operators; that would be a syntax
error.
</p>
</div>
</div>
<div id="outline-container-org48b73d3" class="outline-4">
<h4 id="org48b73d3">Ceiling and floor</h4>
<div class="outline-text-4" id="text-org48b73d3">
<ul class="org-ul">
<li><code>⌈</code> rounds a number up;</li>
<li><code>⌊</code> rounds a number down.</li>
</ul>

<p>
To perform accurate rounding, you may want to use one of the following
patterns:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8968;<span style="color: #f5c791;">120</span>.<span style="color: #f5c791;">11</span> <span style="color: #f5c791;">12</span>.<span style="color: #f5c791;">32</span> <span style="color: #f5c791;">65</span>.<span style="color: #f5c791;">01</span> <span style="color: #f5c791;">13</span>.<span style="color: #f5c791;">52</span> - <span style="color: #f5c791;">0</span>.<span style="color: #f5c791;">5</span>
&#8970;<span style="color: #f5c791;">99</span>.<span style="color: #f5c791;">99</span> <span style="color: #f5c791;">12</span>.<span style="color: #f5c791;">82</span> <span style="color: #f5c791;">15</span>.<span style="color: #f5c791;">39</span> <span style="color: #f5c791;">48</span>.<span style="color: #f5c791;">90</span> + <span style="color: #f5c791;">0</span>.<span style="color: #f5c791;">5</span>
</pre>
</div>

<p>
When using those operators under an infix form, <code>⌈</code> selects the greatest
number, while <code>⌊</code> selects the smallest number.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">2</span> &#8968; <span style="color: #f5c791;">6</span>
<span style="color: #f5c791;">2</span> &#8970; <span style="color: #f5c791;">6</span>
</pre>
</div>

<p>
One can also use these operations to perform comparisions between
lists of numbers.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">6</span> <span style="color: #f5c791;">8</span> <span style="color: #f5c791;">1</span> &#8968; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">9</span>
<span style="color: #f5c791;">6</span> <span style="color: #f5c791;">8</span> <span style="color: #f5c791;">1</span> &#8970; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">9</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org5ccca9b" class="outline-4">
<h4 id="org5ccca9b">Ending a session</h4>
<div class="outline-text-4" id="text-org5ccca9b">
<p>
If you want to end a session, use
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)OFF
</pre>
</div>

<p>
This will not be tangled.
</p>
</div>
</div>
<div id="outline-container-org52a43f7" class="outline-4">
<h4 id="org52a43f7">Exercises</h4>
<div class="outline-text-4" id="text-org52a43f7">
<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Exercises</span>
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="org70f89f4"></a>Q1<br />
<div class="outline-text-5" id="text-org70f89f4">
<p>
Enter statements to:
</p>

<ul class="org-ul">
<li>Multiply each of three numbers, <code>3 6 2</code> by <code>8</code> and then add <code>4</code> to the
results of the multiplication.</li>
</ul>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">4</span> + <span style="color: #f5c791;">8</span> &#215; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">6</span> <span style="color: #f5c791;">2</span>
</pre>
</div>

<ul class="org-ul">
<li>Add 15% to each number in the list <code>14 5 78 145</code>.</li>
</ul>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">1</span>.<span style="color: #f5c791;">15</span> &#215; <span style="color: #f5c791;">14</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">78</span> <span style="color: #f5c791;">145</span>
</pre>
</div>

<ul class="org-ul">
<li>Add the difference between <code>13</code> and <code>8</code> to <code>4 6 12 7</code>.</li>
</ul>

<div class="org-src-container">
<pre class="src src-gnu-apl">(<span style="color: #f5c791;">13</span> - <span style="color: #f5c791;">8</span>) + <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">6</span> <span style="color: #f5c791;">12</span> <span style="color: #f5c791;">7</span>
<span style="color: #454459;">&#9053; Or...</span>
<span style="color: #f5c791;">4</span> <span style="color: #f5c791;">6</span> <span style="color: #f5c791;">12</span> <span style="color: #f5c791;">7</span> + <span style="color: #f5c791;">13</span> - <span style="color: #f5c791;">8</span>
</pre>
</div>

<ul class="org-ul">
<li>Multiply the result of <code>6</code> times <code>3</code> by the result of <code>4</code> times <code>8</code> and
subtract <code>5</code> from the total.</li>
</ul>

<div class="org-src-container">
<pre class="src src-gnu-apl">((<span style="color: #f5c791;">6</span> &#215; <span style="color: #f5c791;">3</span>) &#215; (<span style="color: #f5c791;">4</span> &#215; <span style="color: #f5c791;">8</span>)) - <span style="color: #f5c791;">5</span>
<span style="color: #454459;">&#9053; Or...</span>
&#175;<span style="color: #f5c791;">5+</span>(<span style="color: #f5c791;">6</span>&#215;<span style="color: #f5c791;">3</span>)&#215;<span style="color: #f5c791;">4</span>&#215;<span style="color: #f5c791;">8</span>
</pre>
</div>

<ul class="org-ul">
<li>Reverse the signs in this list: <code>3 ¯4 ¯12 6</code></li>
</ul>

<div class="org-src-container">
<pre class="src src-gnu-apl">- <span style="color: #f5c791;">3</span> &#175;<span style="color: #f5c791;">4</span> &#175;<span style="color: #f5c791;">12</span> <span style="color: #f5c791;">6</span>
</pre>
</div>

<ul class="org-ul">
<li>Compare these lists, selecting the larger number in each
comparision:
<ul class="org-ul">
<li><code>2 7 0 55</code></li>
<li><code>33 1 10 13</code></li>
</ul></li>
</ul>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">2</span> <span style="color: #f5c791;">7</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">55</span> &#8968; <span style="color: #f5c791;">33</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">10</span> <span style="color: #f5c791;">13</span>
</pre>
</div>
</div>
</li>
<li><a id="org819709e"></a>Q2<br />
<div class="outline-text-5" id="text-org819709e">
<p>
Which of these statements cause error messages? Why?
</p>

<ul class="org-ul">
<li>Statement <code>a</code> is a valid multiplication between <code>12</code> and <code>9</code>.</li>
<li>Statement <code>b</code> is a valid sum between <code>3</code> and <code>¯2</code>.</li>
<li>Statement <code>c</code> produces a <code>LENGTH ERROR</code> because <code>19 0 3 4</code> and <code>7 2 87</code> are
lists of different lengths.</li>
<li><code>5 ¯8</code> is a valid list of two numbers; it may be unintended, though.</li>
</ul>
</div>
</li>
<li><a id="org3f51943"></a>Q3<br />
<div class="outline-text-5" id="text-org3f51943">
<p>
You're getting <code>£200</code> worth of dollars for yourself and <code>£180</code> and <code>£230</code>
worth respectively for two friends. Enter a statement which calculates
how many dollars each of you will get at <code>1.96</code> dollars to the pound.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">200</span> <span style="color: #f5c791;">180</span> <span style="color: #f5c791;">230</span>&#215;<span style="color: #f5c791;">1</span>.<span style="color: #f5c791;">96</span>
</pre>
</div>
</div>
</li>
<li><a id="orga5bbd70"></a>Q4<br />
<div class="outline-text-5" id="text-orga5bbd70">
<p>
Highest recorded temperatures for a week in August were:
</p>

<ul class="org-ul">
<li><code>79 84 83 78 74 69 70</code> (Fahrenheit)</li>
</ul>

<p>
Enter a statement to convert them into Centigrade. (One method is to
subtract 32 degrees and multiply by 5/9.) Suppress decimal places in
the result.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8970;((<span style="color: #f5c791;">79</span> <span style="color: #f5c791;">84</span> <span style="color: #f5c791;">83</span> <span style="color: #f5c791;">78</span> <span style="color: #f5c791;">74</span> <span style="color: #f5c791;">69</span> <span style="color: #f5c791;">70-32</span>)&#215;<span style="color: #f5c791;">5</span>&#247;<span style="color: #f5c791;">9</span>)+0.<span style="color: #f5c791;">5</span>
<span style="color: #454459;">&#9053; Or...</span>
&#8968;&#175;<span style="color: #f5c791;">0</span>.<span style="color: #f5c791;">5+</span>(<span style="color: #f5c791;">5</span>&#247;<span style="color: #f5c791;">9</span>)&#215;<span style="color: #f5c791;">79</span> <span style="color: #f5c791;">84</span> <span style="color: #f5c791;">83</span> <span style="color: #f5c791;">78</span> <span style="color: #f5c791;">74</span> <span style="color: #f5c791;">69</span> <span style="color: #f5c791;">70-32</span>
</pre>
</div>
</div>
</li>
<li><a id="org15b4aab"></a>Q5<br />
<div class="outline-text-5" id="text-org15b4aab">
<p>
Enter a statement to find the difference in metres between 1500 metres
and a mile. (1 yard = 0.9144m and 1760 yards in a mile)
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#175;<span style="color: #f5c791;">1500+1760</span>&#215;<span style="color: #f5c791;">0</span>.<span style="color: #f5c791;">9144</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgafb9ce1" class="outline-3">
<h3 id="orgafb9ce1">Variables</h3>
<div class="outline-text-3" id="text-orgafb9ce1">
<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Variables</span>
</pre>
</div>
</div>
<div id="outline-container-org5f2d3be" class="outline-4">
<h4 id="org5f2d3be">Assignments</h4>
<div class="outline-text-4" id="text-org5f2d3be">
<p>
An assignment can be done with a variable name and a <code>←</code> symbol.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">A &#8592; .<span style="color: #f5c791;">175</span>
</pre>
</div>

<p>
This enables <code>A</code> to be used in expressions.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">200</span>&#215;A
A&#215;<span style="color: #f5c791;">30</span>.<span style="color: #f5c791;">50</span> <span style="color: #f5c791;">12</span>.<span style="color: #f5c791;">25</span> <span style="color: #f5c791;">60</span>.<span style="color: #f5c791;">30</span> <span style="color: #f5c791;">15</span>.<span style="color: #f5c791;">00</span>
&#8968; A&#215;<span style="color: #f5c791;">30</span>.<span style="color: #f5c791;">50</span> <span style="color: #f5c791;">12</span>.<span style="color: #f5c791;">25</span> <span style="color: #f5c791;">60</span>.<span style="color: #f5c791;">30</span> <span style="color: #f5c791;">15</span>.<span style="color: #f5c791;">00</span>
</pre>
</div>

<p>
<code>C</code> is the conversion factor for fonverting pounds to kilograms.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">C &#8592; .<span style="color: #f5c791;">45359237</span>
<span style="color: #f5c791;">17</span> &#215; C        <span style="color: #454459;">&#9053; Convert 17 lbs into Kg</span>
&#8968;C&#215;<span style="color: #f5c791;">11</span>&#215;<span style="color: #f5c791;">14</span>      <span style="color: #454459;">&#9053; How many Kgs are there in 11 stones,</span>
              <span style="color: #454459;">&#9053; then round up</span>
</pre>
</div>

<p>
To keep a calculation, we then use variables.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">JOE &#8592; &#8968;C&#215;<span style="color: #f5c791;">11</span>&#215;<span style="color: #f5c791;">14</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org70b352c" class="outline-4">
<h4 id="org70b352c">Variable names</h4>
<div class="outline-text-4" id="text-org70b352c">
<p>
Valid statements:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">AAA &#8592; <span style="color: #f5c791;">4</span>
ab &#8592; <span style="color: #f5c791;">1</span>
C9999 &#8592; <span style="color: #f5c791;">0</span>
Jack_Smith &#8592; <span style="color: #f5c791;">100</span>
</pre>
</div>

<p>
Which denotes that APL is case sensitive.
</p>

<p>
Also, APL doesn't have bare words as variable names:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">JOHN SMITH &#8592; <span style="color: #f5c791;">100</span>
</pre>
</div>

<p>
However, using parentheses will create two identical variables with
the same value. This happens in both GNU APL and Dyalog.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">(JOHN SMITH) &#8592; <span style="color: #f5c791;">100</span> <span style="color: #454459;">&#9053; Creates JOHN with value 100</span>
                   <span style="color: #454459;">&#9053; and SMITH with value 100</span>
</pre>
</div>

<p>
And if you start a variable name with a single number, the number will
be printed right after the value, which is assigned to the variable
name that follows:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">5B</span> &#8592; <span style="color: #f5c791;">12</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0f5196b" class="outline-4">
<h4 id="org0f5196b">Assigning lists to variables</h4>
<div class="outline-text-4" id="text-org0f5196b">
<div class="org-src-container">
<pre class="src src-gnu-apl">PRICE &#8592; <span style="color: #f5c791;">12</span>.<span style="color: #f5c791;">45</span> <span style="color: #f5c791;">5</span>.<span style="color: #f5c791;">60</span> <span style="color: #f5c791;">5</span>.<span style="color: #f5c791;">99</span> <span style="color: #f5c791;">7</span>.<span style="color: #f5c791;">75</span>
+VAT   &#8592; PRICE &#215; A <span style="color: #454459;">&#9053; A was assigned earlier</span>
</pre>
</div>

<p>
The <code>+</code> operator, when put before an assignment, forces a declarative
behaviour on the assigned variable &#x2013; in other words, forces the
variable to be displayed.
</p>

<p>
Using an unassigned variable causes a <code>VALUE ERROR</code>.
</p>
</div>
</div>
<div id="outline-container-orge99008d" class="outline-4">
<h4 id="orge99008d">System commands</h4>
<div class="outline-text-4" id="text-orge99008d">
<p>
The <code>)OFF</code> command has already been presented earlier.
</p>

<p>
<code>)VARS</code> lists all variables in the workspace.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)VARS
</pre>
</div>

<p>
<code>)WSID</code> shows the identity of the current workspace, which defaults to
<code>CLEAR WS</code>.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)WSID
</pre>
</div>

<p>
This command can also be used to change the identity of the
workspace; we change its name to <code>NEW</code>. The variables in it won't
change.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)WSID NEW
</pre>
</div>

<p>
To remove the variables (and the name), we can use <code>)CLEAR</code>.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)CLEAR
</pre>
</div>
</div>
</div>
<div id="outline-container-org629b72b" class="outline-4">
<h4 id="org629b72b">Character assignments</h4>
<div class="outline-text-4" id="text-org629b72b">
<p>
APL doesn't only deals with numbers, it can also deal with text. Just
apply quotes.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">A &#8592; <span style="color: #f5c791;">'APL WILL PROCESS TEXT'</span>
C &#8592; <span style="color: #f5c791;">'CHARACTERS'</span>
</pre>
</div>

<p>
To insert quotes inside the text, use <code>''</code>.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">NAME &#8592; <span style="color: #f5c791;">'WHAT''S IN A NAME? '</span>
</pre>
</div>

<p>
Other way to do that is by using double quotes around the characters.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">NAME &#8592; <span style="color: #f5c791;">"WHAT'S IN A NAME? "</span>
</pre>
</div>

<p>
Consider the following variables.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">N &#8592; <span style="color: #f5c791;">'NET PRICE'</span>
QTY &#8592; <span style="color: #f5c791;">'230'</span>
</pre>
</div>

<p>
Attempting to perform arithmetic on text generates a <code>DOMAIN ERROR</code>:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">N&#215;<span style="color: #f5c791;">10</span>
QTY+5
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfed555c" class="outline-4">
<h4 id="orgfed555c">Multiple assignments</h4>
<div class="outline-text-4" id="text-orgfed555c">
<p>
One can assign one value to multiple variables at the same time:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">(ZAK YAK) &#8592; <span style="color: #f5c791;">5</span>
</pre>
</div>

<p>
Or assign many values to many variables at the same time too:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">(YEN MARK BUCK) &#8592; <span style="color: #f5c791;">10</span> <span style="color: #f5c791;">20</span> <span style="color: #f5c791;">30</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org32a6973" class="outline-4">
<h4 id="org32a6973">Displaying variables together</h4>
<div class="outline-text-4" id="text-org32a6973">
<p>
This part is straightforward.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">N <span style="color: #f5c791;">10</span>
NAME C

X &#8592; <span style="color: #f5c791;">18</span>
Y &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">1985</span>
X Y

NAME X C

<span style="color: #f5c791;">'NET PRICE: '</span> <span style="color: #f5c791;">10</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgdfa4d46" class="outline-4">
<h4 id="orgdfa4d46">Joining lists</h4>
<div class="outline-text-4" id="text-orgdfa4d46">
<p>
When writing <code>X Y</code>, these values were joined in a list of two
elements. The first element was the number in <code>X</code>, the second was the
two-element list in <code>Y</code>.
</p>

<p>
Let's store this result.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">Z &#8592; X Y
</pre>
</div>

<p>
Operations done in <code>Z</code> will not affect <code>X</code> and <code>Y</code> (also notice how <code>+10</code> maps
elegantly into sublists!!!):
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">Z &#8592; Z+10
</pre>
</div>

<p>
Example with characters.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">CNAME &#8592; <span style="color: #f5c791;">'BASIL '</span>
SNAME &#8592; <span style="color: #f5c791;">'BRUSH'</span>
NAME  &#8592; CNAME SNAME
</pre>
</div>

<p>
Notice, though, that <code>NAME</code> is a list of two elements, each being a list
of characters; this is called a <i>nested variable</i>.
</p>
</div>
<ul class="org-ul">
<li><a id="org1ac43af"></a>Extra stuff<br />
<div class="outline-text-5" id="text-org1ac43af">
<p>
This was learned from experimentation:
</p>

<p>
The operator <code>⍴</code> (rho) gives us the number of elements in a nested
variable, when used in prefix form.
</p>

<p>
In its infix form, <code>⍴</code> takes a number (left) of elements from the nested
variable (right).
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#9076;NAME
<span style="color: #f5c791;">1</span>&#9076;NAME
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org83bb56c" class="outline-4">
<h4 id="org83bb56c">Joining and merging variables</h4>
<div class="outline-text-4" id="text-org83bb56c">
<p>
The comma (<code>,</code>) allows APL to catenate lists.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">NAME &#8592; CNAME,SNAME
</pre>
</div>

<p>
One can see that the variable indeed became a non-nested list of 11
characters.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#9076;NAME
</pre>
</div>
</div>
</div>
<div id="outline-container-org6b39c6b" class="outline-4">
<h4 id="org6b39c6b">Simple and nested variables</h4>
<div class="outline-text-4" id="text-org6b39c6b">
<p>
Single numbers (separated by spaces) and characters make up lists.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">PIERRE &#8592; <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>
MIREILLE &#8592; <span style="color: #f5c791;">'FILLE'</span>
</pre>
</div>

<p>
Numbers enclosed in parentheses are treated as single items, so now
<code>PIERRE</code> will be a list, containing two lists.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">PIERRE &#8592; (<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>) (<span style="color: #f5c791;">4</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">6</span> <span style="color: #f5c791;">7</span>)
</pre>
</div>

<p>
A list of character lists is easier, just enclose each sublist in
quotes (if you were to put it in a single, simple list, you'd put
everyone under the same quotes anyway):
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">FRANCOISE &#8592; <span style="color: #f5c791;">'UNE'</span> <span style="color: #f5c791;">'JEUNE'</span> <span style="color: #f5c791;">'FILLE'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org23375a3" class="outline-4">
<h4 id="org23375a3">Mixed variables</h4>
<div class="outline-text-4" id="text-org23375a3">
<p>
This is not good for arithmetic, but it's useful to store characters
and numbers together.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">PHONES &#8592; <span style="color: #f5c791;">'BILL'</span> <span style="color: #f5c791;">577332</span> <span style="color: #f5c791;">'FRANK'</span> <span style="color: #f5c791;">886331</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgaef4a5c" class="outline-4">
<h4 id="orgaef4a5c">Exercises</h4>
<div class="outline-text-4" id="text-orgaef4a5c">
<p>
Let's start with a clean workspace.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)CLEAR
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="org9a56006"></a>Q1<br />
<div class="outline-text-5" id="text-org9a56006">
<p>
Enter statements which:
</p>

<ul class="org-ul">
<li>Assign the numbers <code>22 2 2007</code> to three variables called respectively
<code>D</code>, <code>M</code> and <code>Y</code>.</li>
</ul>

<div class="org-src-container">
<pre class="src src-gnu-apl">(D M Y) &#8592; <span style="color: #f5c791;">22</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2007</span>
</pre>
</div>

<ul class="org-ul">
<li>Assign the characters <code>TODAY'S DATE:</code> to a variable called <code>DATE</code>.</li>
</ul>

<div class="org-src-container">
<pre class="src src-gnu-apl">DATE &#8592; <span style="color: #f5c791;">'TODAY''S DATE: '</span>
</pre>
</div>

<ul class="org-ul">
<li>Produce the display: <code>TODAY'S DATE: 22 2 2007</code></li>
</ul>

<div class="org-src-container">
<pre class="src src-gnu-apl">DATE D M Y
</pre>
</div>
</div>
</li>
<li><a id="orgb4c28c2"></a>Q2<br />
<div class="outline-text-5" id="text-orgb4c28c2">
<p>
Set up a variable <code>CONV</code> which contains a constant for converting pounds
to kilos. (1lb = 0.454Kg and 14lb = 1 stone). Use <code>CONV</code> to convert your
weight (to the nearest stone) into kilograms. Reduce the result by
10%, round it down, and display it.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; 1 stone = 14 lbs.</span>
<span style="color: #454459;">&#9053; 1 lb    = 0.454 Kg.</span>
<span style="color: #454459;">&#9053; Let's pretend I weight 11.5 stones.</span>
CONV     &#8592; .<span style="color: #f5c791;">454</span>
MYWEIGHT &#8592; &#8970;<span style="color: #f5c791;">11</span>.<span style="color: #f5c791;">5</span>&#215;CONV&#215;<span style="color: #f5c791;">14</span>&#215;.<span style="color: #f5c791;">9</span>
MYWEIGHT
</pre>
</div>
</div>
</li>
<li><a id="orgcabefe2"></a>Q3<br />
<div class="outline-text-5" id="text-orgcabefe2">
<p>
The cost prices of four items of stock are £8, 6, 12, 4
respectively. The markup on these items is 100%. Three other items
cost respectively £16, 13 and 7. Their markup is 75%. Calculate the
fully inclusive price of each item (with VAT at 17%). Display the
prices (rounded up) with the caption: <code>'PRICE+VAT: '</code>
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">ITEMS_A &#8592; <span style="color: #f5c791;">2</span>&#215;<span style="color: #f5c791;">8</span> <span style="color: #f5c791;">6</span> <span style="color: #f5c791;">12</span> <span style="color: #f5c791;">4</span>
ITEMS_B &#8592; <span style="color: #f5c791;">1</span>.<span style="color: #f5c791;">75</span>&#215;<span style="color: #f5c791;">16</span> <span style="color: #f5c791;">13</span> <span style="color: #f5c791;">7</span>
ITEMS   &#8592; &#8968;<span style="color: #f5c791;">1</span>.<span style="color: #f5c791;">17</span>&#215;ITEMS_A,ITEMS_B
<span style="color: #f5c791;">'PRICE+VAT: '</span> ITEMS
</pre>
</div>
</div>
</li>
<li><a id="orgcbf35fa"></a>Q4<br />
<div class="outline-text-5" id="text-orgcbf35fa">
<p>
<code>TEST1</code> contains a student's exam marks for each of seven subjects (65
72 54 80 67 60 59). <code>TEST2</code> contains his marks for the same subjects
gained at a different test (75 70 60 74 58 61 50). Produce a list
consisting of his higher mark for each subject.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TEST1 &#8592; <span style="color: #f5c791;">65</span> <span style="color: #f5c791;">72</span> <span style="color: #f5c791;">54</span> <span style="color: #f5c791;">80</span> <span style="color: #f5c791;">67</span> <span style="color: #f5c791;">60</span> <span style="color: #f5c791;">59</span>
TEST2 &#8592; <span style="color: #f5c791;">75</span> <span style="color: #f5c791;">70</span> <span style="color: #f5c791;">60</span> <span style="color: #f5c791;">74</span> <span style="color: #f5c791;">58</span> <span style="color: #f5c791;">61</span> <span style="color: #f5c791;">50</span>
TEST1 &#8968; TEST2
</pre>
</div>
</div>
</li>
<li><a id="org9a517aa"></a>Q5<br />
<div class="outline-text-5" id="text-org9a517aa">
<p>
Which of the following will produce error messages? Why?
</p>

<ul class="org-ul">
<li>The expression <code>RATE ← '3.7×3'</code> is a valid assignment of a list of
characters, though it might be a logic error.</li>
<li>The expression <code>10+10 '←21'</code> produces a <code>DOMAIN ERROR</code>, because it tries
to sum <code>10</code> over a list containing the number <code>10</code> and the list of
characters <code>'←21'</code>, which cannot perform arithmetic operations.</li>
<li>The expression <code>100×RATE</code> produces a <code>DOMAIN ERROR</code>, because it tries to
multiply by <code>100</code> over a list containing characters (<code>RATE</code>), which
cannot perform arithmetic operations.</li>
<li>The expression <code>SYMBOLS ← '¯&lt;≤=≥'</code> is perfectly valid and creates a
list of characters. But it might not be supported by some APL
implementations (GNU APL supports it).</li>
<li>The expression <code>3+'232'</code> produces a <code>DOMAIN ERROR</code>, because it tries to
sum <code>3</code> over a list of characters, which cannot perform arithmetic
operations.</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgb142602" class="outline-4">
<h4 id="orgb142602">Cleanup</h4>
<div class="outline-text-4" id="text-orgb142602">
<p>
From now on, we clear the variables and the workspace across chapters.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)CLEAR
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org7704436" class="outline-3">
<h3 id="org7704436">Tables</h3>
<div class="outline-text-3" id="text-org7704436">
<p>
We won't be typing a lot of things here, that is insane! Let's see how
to generate our tables.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Tables</span>
</pre>
</div>
</div>
<div id="outline-container-org04179ba" class="outline-4">
<h4 id="org04179ba">The Roll function</h4>
<div class="outline-text-4" id="text-org04179ba">
<p>
<code>?</code> is the Roll function, also called Random or Deal.
</p>

<p>
This generates numbers on range 1 to 100:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">? <span style="color: #f5c791;">100</span>
</pre>
</div>

<p>
The two-argument form generates a list of <code>n</code> (left) <b>unique</b> numbers from
1 to <code>m</code> (right):
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">50</span> ? <span style="color: #f5c791;">100</span>
</pre>
</div>

<p>
In fact, it should always be true that <code>n ≤ m</code>, since the generated
numbers are unique. If not, we'll have a <code>DOMAIN ERROR</code>.
</p>

<p>
Both <code>n</code> and <code>m</code> can be replaced by variables as well.
</p>
</div>
</div>
<div id="outline-container-orgf12a4a4" class="outline-4">
<h4 id="orgf12a4a4">The Iota function</h4>
<div class="outline-text-4" id="text-orgf12a4a4">
<p>
Iota, or Index, generates a sequence of numbers from 1 to <code>m</code> in its
one-argument form.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#9075;<span style="color: #f5c791;">100</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgd8ed2a4" class="outline-4">
<h4 id="orgd8ed2a4">Setting up tables</h4>
<div class="outline-text-4" id="text-orgd8ed2a4">
<p>
When entering tables, we use dyadic for of the rho (<code>⍴</code>) function, also
called Shape or Reshape. The list before <code>⍴</code> states the order of the
table; the following elements are its rows, element by element.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">4</span> <span style="color: #f5c791;">3</span> &#9076; <span style="color: #f5c791;">10</span> <span style="color: #f5c791;">20</span> <span style="color: #f5c791;">30</span> <span style="color: #f5c791;">40</span> <span style="color: #f5c791;">50</span> <span style="color: #f5c791;">60</span> <span style="color: #f5c791;">70</span> <span style="color: #f5c791;">80</span> <span style="color: #f5c791;">90</span> <span style="color: #f5c791;">100</span> <span style="color: #f5c791;">110</span> <span style="color: #f5c791;">120</span>
</pre>
</div>

<p>
Let's generate twelve random numbers, then display them in a 4×3
table.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">DATA &#8592; <span style="color: #f5c791;">12</span> ? <span style="color: #f5c791;">100</span>
<span style="color: #f5c791;">4</span> <span style="color: #f5c791;">3</span> &#9076; DATA
</pre>
</div>

<p>
If you feed <code>⍴</code> less numbers than expected, APL just keeps wrapping
these numbers. If you feed more than expected, APL uses just enough
numbers to build the table.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">4</span> <span style="color: #f5c791;">3</span> &#9076; <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">5</span>
</pre>
</div>

<p>
And so follows that supplying one number fills the whole table:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">3</span> <span style="color: #f5c791;">5</span> &#9076; <span style="color: #f5c791;">1</span>
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="orgec4f5c1"></a>Extra bit<br />
<div class="outline-text-5" id="text-orgec4f5c1">
<p>
I wonder about identity matrices! Let's take a 3×3 matrix. If we type
a <code>1</code>, and then a number <code>n</code> of zeroes (corresponding to the matrix
order), then I suppose we can build an identity matrix&#x2026;
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span> &#9076; <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">0</span>
</pre>
</div>

<p>
Indeed! But wait: I don't know how to build functions in APL yet, but
I suppose we can take this arbitrary number of zeroes and write them
in ⍴-notation too.
</p>

<ul class="org-ul">
<li>Generate a list of <code>n</code> zeroes;</li>
<li>Catenate a number <code>1</code> in front of it;</li>
<li>Feed it as filling elements to the second ⍴.</li>
</ul>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">4</span> <span style="color: #f5c791;">4</span> &#9076; <span style="color: #f5c791;">1</span>,(<span style="color: #f5c791;">4</span> &#9076; <span style="color: #f5c791;">0</span>)
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org4ce9c9f" class="outline-4">
<h4 id="org4ce9c9f">Arithmetic on tables</h4>
<div class="outline-text-4" id="text-org4ce9c9f">
<p>
Let's begin.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">SALES &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;<span style="color: #f5c791;">20</span> <span style="color: #f5c791;">13</span> <span style="color: #f5c791;">8</span> <span style="color: #f5c791;">30</span> <span style="color: #f5c791;">43</span> <span style="color: #f5c791;">48</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">50</span> <span style="color: #f5c791;">21</span>
SALES
</pre>
</div>

<p>
Performing arithmetic on a table affects every number, just like in a
list.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">SALES&#215;<span style="color: #f5c791;">10</span>
</pre>
</div>

<p>
Let's set up another table.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">PRICES &#8592; <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span> &#9076; <span style="color: #f5c791;">21</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">12</span> <span style="color: #f5c791;">47</span> <span style="color: #f5c791;">33</span> <span style="color: #f5c791;">1</span>
</pre>
</div>

<p>
This operation causes a <code>LENGTH ERROR</code>:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">SALES&#215;PRICES
</pre>
</div>

<p>
This is because <code>SALES</code> is 3×3 while <code>PRICES</code> is 2×3. So let's reshape
<code>SALES</code> into a 3×2 table. This way, both of them will have the same
number of elements.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">SALES &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">2</span>&#9076;SALES
</pre>
</div>

<p>
But that still won't do&#x2026; we're trying to multiply elements of same
address here, not make matrix multiplication. Let's try again.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">SALES &#8592; <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>&#9076;SALES
</pre>
</div>

<p>
Ok, now we're good and we can proceed.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TOTAL &#8592; SALES&#215;PRICES
SALES-PRICES
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="org976629e"></a>Extra bits<br />
<div class="outline-text-5" id="text-org976629e">
<p>
Let's build a nice table.
</p>

<p>
First table:
</p>
<ul class="org-ul">
<li>Build a sequence from <code>1</code> to <code>25</code>.</li>
<li>Create a <code>5×5</code> table with it.</li>
<li>Take the reciprocal of each number.</li>
<li>Multiply each element by <code>10</code>.</li>
</ul>

<p>
Second table:
</p>
<ul class="org-ul">
<li>Take a sequence from <code>1</code> to <code>25</code>.</li>
<li>Add <code>25</code> to each element.</li>
<li>Create a <code>5×5</code> table with it.</li>
</ul>

<p>
Final table:
</p>
<ul class="org-ul">
<li>Multiply each element of first table by each element of second
table.</li>
<li>Round every number by adding <code>¯.5</code> to each number and taking their
ceiling.</li>
</ul>

<div class="org-src-container">
<pre class="src src-gnu-apl">TOTAL &#8592; &#8968;&#175;.<span style="color: #f5c791;">5+</span>(<span style="color: #f5c791;">5</span> <span style="color: #f5c791;">5</span>&#9076;<span style="color: #f5c791;">25+</span>&#9075;<span style="color: #f5c791;">25</span>)&#215;<span style="color: #f5c791;">10</span>&#215;&#247;<span style="color: #f5c791;">5</span> <span style="color: #f5c791;">5</span>&#9076;&#9075;<span style="color: #f5c791;">25</span>
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgb1ee1ea" class="outline-4">
<h4 id="orgb1ee1ea">Catenating tables</h4>
<div class="outline-text-4" id="text-orgb1ee1ea">
<p>
Catenating tables produce a big table. Each row is catenated like a
list. Therefore, catenated tables must have the same number of rows.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">SALES,PRICES
</pre>
</div>

<p>
Let's test it a little more.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">LITTLE &#8592; <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;<span style="color: #f5c791;">1</span>
MEDIUM &#8592; <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">6</span>&#9076;<span style="color: #f5c791;">5</span>
BIG    &#8592; LITTLE,MEDIUM
</pre>
</div>

<p>
To perform <code>LITTLE+MEDIUM</code>, we pad <code>LITTLE</code> with a table of zeroes.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">ZEROES &#8592; <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">4</span>&#9076;<span style="color: #f5c791;">0</span>
LITTLE &#8592; LITTLE,ZEROES
LITTLE+MEDIUM
</pre>
</div>

<p>
We could also have the zeroes on the other side; let's reset <code>LITTLE</code>
and do it.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">LITTLE &#8592; <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;<span style="color: #f5c791;">1</span>
LITTLE &#8592; ZEROES,LITTLE
LITTLE+MEDIUM
</pre>
</div>

<p>
Since there is this kind of ambiguity, that is the reason why APL
doesn't do arithmetic on data of unequal size.
</p>
</div>
</div>
<div id="outline-container-org99e6e80" class="outline-4">
<h4 id="org99e6e80">Selecting elements</h4>
<div class="outline-text-4" id="text-org99e6e80">
<p>
Let's set up a <code>4×3</code> table for the next example.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">+TABLE &#8592; <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">3</span>&#9076;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">12</span> <span style="color: #f5c791;">15</span> <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">11</span> <span style="color: #f5c791;">7</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">16</span> <span style="color: #f5c791;">8</span> <span style="color: #f5c791;">20</span> <span style="color: #f5c791;">19</span> <span style="color: #f5c791;">9</span>
</pre>
</div>

<p>
Let's select the <code>9</code> in the bottom row, rightmost column.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE[<span style="color: #f5c791;">4</span>;<span style="color: #f5c791;">3</span>]
</pre>
</div>

<p>
We sum the element at Row 1, Column 2 to the element at Row 2,
Column 2. Then we put it on Row 3, Column 2:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE[<span style="color: #f5c791;">3</span>;<span style="color: #f5c791;">2</span>] &#8592; TABLE[<span style="color: #f5c791;">1</span>;<span style="color: #f5c791;">2</span>] + TABLE[<span style="color: #f5c791;">2</span>;<span style="color: #f5c791;">2</span>]
</pre>
</div>

<p>
We can select more than one element in a row, or even in a column.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE[<span style="color: #f5c791;">1</span>;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span>]
TABLE[<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span>;<span style="color: #f5c791;">2</span>]
</pre>
</div>

<p>
To select entire rows or columns, omit the other parameter.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE[<span style="color: #f5c791;">1</span>;]
TABLE[;<span style="color: #f5c791;">1</span>]
</pre>
</div>

<p>
Let's replace the numbers in column 3 with the sum of numbers in
columns 1 and 2.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE[;<span style="color: #f5c791;">3</span>] &#8592; TABLE[;<span style="color: #f5c791;">1</span>] + TABLE[;<span style="color: #f5c791;">2</span>]
</pre>
</div>

<p>
Also note that indexing can also be applied on lists.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">LIST &#8592; <span style="color: #f5c791;">8</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">90</span> <span style="color: #f5c791;">4</span>
LIST[<span style="color: #f5c791;">2</span>]
</pre>
</div>
</div>
</div>
<div id="outline-container-org6fdc5e4" class="outline-4">
<h4 id="org6fdc5e4">Dimensions</h4>
<div class="outline-text-4" id="text-org6fdc5e4">
<p>
In APL, data has dimensions.
</p>

<ul class="org-ul">
<li>Single numbers have dimension zero.</li>
<li>A list has one dimension.</li>
<li>The previous tables have two dimensions.</li>
<li>Three-dimensional tables/arrays are like cubes, having depth, height
and length.</li>
<li>It is possible to create arrays of many dimensions in APL.</li>
</ul>

<div class="org-src-container">
<pre class="src src-gnu-apl">SALES &#8592; <span style="color: #f5c791;">6</span> <span style="color: #f5c791;">4</span>&#9076;<span style="color: #f5c791;">24</span>?<span style="color: #f5c791;">50</span>
</pre>
</div>

<p>
In <code>SALES</code>, the salesmen are rows, the products are columns.
If we wanted to represent more than one region &#x2013; say, three regions
&#x2013;, we'd need another dimension.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">+SALES &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">6</span> <span style="color: #f5c791;">4</span>&#9076;<span style="color: #f5c791;">72</span>?<span style="color: #f5c791;">100</span>
SALES[<span style="color: #f5c791;">2</span>;<span style="color: #f5c791;">5</span>;<span style="color: #f5c791;">4</span>]           <span style="color: #454459;">&#9053; Plane 2, Row 5, Column 4</span>
SALES[<span style="color: #f5c791;">2</span>;;]             <span style="color: #454459;">&#9053; Plane 2</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org3889ac8" class="outline-4">
<h4 id="org3889ac8">Enquiring about the size of data</h4>
<div class="outline-text-4" id="text-org3889ac8">
<p>
While the dyadic usage of <code>⍴</code> involves creating arrays, the monadic
usage of <code>⍴</code> allows one to enquire about the size (or shape) of existing
tables, variables, etc.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#9076;SALES
</pre>
</div>

<p>
Let's create some data.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE &#8592; <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">3</span>&#9076;<span style="color: #f5c791;">15</span>?<span style="color: #f5c791;">20</span>
LIST &#8592; &#9075;<span style="color: #f5c791;">6</span>
NUM &#8592; <span style="color: #f5c791;">234</span>
</pre>
</div>

<p>
Now let's ask about their shape.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#9076;TABLE
&#9076;LIST
&#9076;NUM
</pre>
</div>

<p>
Notice that, since <code>NUM</code> has no shape (equivalent to a point), APL gives
an empty response.
</p>

<p>
We don't need variables to do this kind of thing, though. We can apply
directly to literals.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#9076;<span style="color: #f5c791;">12</span> <span style="color: #f5c791;">61</span> <span style="color: #f5c791;">502</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">26</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">11</span>
&#9076;<span style="color: #f5c791;">'SHAMBOLIOSIS'</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org046ac81" class="outline-4">
<h4 id="org046ac81">Tables of characters</h4>
<div class="outline-text-4" id="text-org046ac81">
<p>
This is also straightforward; characters are stored as a list of
characters. Let's do some experiments.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Compare these two.</span>
ALF &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">5</span>&#9076;<span style="color: #f5c791;">'ABCDE'</span>
NUM &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">5</span>&#9076;<span style="color: #f5c791;">12345</span>

MYNAME &#8592; <span style="color: #f5c791;">'GORSUCH'</span>
&#9076;MYNAME

<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">7</span>&#9076;MYNAME
<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">14</span>&#9076;MYNAME
<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">18</span>&#9076;MYNAME

MYNAME &#8592; <span style="color: #f5c791;">'GORSUCH '</span>
&#9076;MYNAME

<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">40</span>&#9076;MYNAME
</pre>
</div>

<p>
Solution for the given example.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">4</span> <span style="color: #f5c791;">11</span>&#9076;<span style="color: #f5c791;">'ADAMS      CHATER     PRENDERGASTLEE        '</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org873830e" class="outline-4">
<h4 id="org873830e">Mixed tables</h4>
<div class="outline-text-4" id="text-org873830e">
<p>
We can build tables containing characters and numbers, just like the
lists.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">MIXTURE &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;<span style="color: #f5c791;">'A'</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">'B'</span> <span style="color: #f5c791;">'C'</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">'D'</span> <span style="color: #f5c791;">'E'</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">'F'</span>
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="org51f5d2d"></a>Extra bits<br />
<div class="outline-text-5" id="text-org51f5d2d">
<p>
You can't perform arithmetic in such a table, but you can of course
reshape it to do so. I built an example for that by myself:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">MIXTURE[;<span style="color: #f5c791;">2</span>] &#8592; <span style="color: #f5c791;">10</span>&#215;MIXTURE[;<span style="color: #f5c791;">2</span>]
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-orga63391c" class="outline-4">
<h4 id="orga63391c">Nested tables</h4>
<div class="outline-text-4" id="text-orga63391c">
<p>
Tables can contain other tables or lists.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">NEST &#8592; <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>&#9076;(<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;&#9075;<span style="color: #f5c791;">4</span>) (&#9075;<span style="color: #f5c791;">5</span>) <span style="color: #f5c791;">'A NAME'</span> (<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">4</span>&#9076;&#9075;<span style="color: #f5c791;">8</span>) <span style="color: #f5c791;">23</span> (<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>&#9076;<span style="color: #f5c791;">'NAME'</span>)
&#9076;NEST
</pre>
</div>
</div>
</div>
<div id="outline-container-org4779ebe" class="outline-4">
<h4 id="org4779ebe">Depth</h4>
<div class="outline-text-4" id="text-org4779ebe">
<p>
The depth (<code>≡</code>) function shows the degree of nesting in a variable.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8801;<span style="color: #f5c791;">45</span>          <span style="color: #454459;">&#9053; Values have depth 0</span>
&#8801;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>       <span style="color: #454459;">&#9053; Lists have depth 1</span>
&#8801;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">6</span> <span style="color: #454459;">&#9053; Tables too</span>
</pre>
</div>

<p>
Now let's check the depth of <code>NEST</code>:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8801;NEST
</pre>
</div>

<p>
When at least one element of a list or table is also a list or table,
the depth becomes 2; and so on, as long as you have child list/tables
inside child list/tables:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">BIG_NEST &#8592; NEST NEST
&#9076;BIG_NEST
&#8801;BIG_NEST
</pre>
</div>

<p>
Since the components of <code>BIG_NEST</code> already have depth 2, <code>BIG_NEST</code> adds
one more layer of depth.
</p>
</div>
</div>
<div id="outline-container-org132b10f" class="outline-4">
<h4 id="org132b10f">Practice</h4>
<div class="outline-text-4" id="text-org132b10f">
<p>
Some interesting snippets showcasing the strength of APL: combining
functions.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Playing with sizes of character lists</span>
(&#9076;<span style="color: #f5c791;">'ABC'</span>,<span style="color: #f5c791;">'DEF'</span>)+&#9076;<span style="color: #f5c791;">'GHI'</span>

<span style="color: #454459;">&#9053; Selecting the first nine numbers in row 1 of a big table</span>
TABLE &#8592; <span style="color: #f5c791;">10</span> <span style="color: #f5c791;">10</span>&#9076;<span style="color: #f5c791;">100</span>?<span style="color: #f5c791;">100</span>
TABLE[<span style="color: #f5c791;">1</span>;&#9075;<span style="color: #f5c791;">9</span>]
</pre>
</div>
</div>
</div>
<div id="outline-container-orge01d1e5" class="outline-4">
<h4 id="orge01d1e5">Exercises</h4>
<div class="outline-text-4" id="text-orge01d1e5">
<div class="org-src-container">
<pre class="src src-gnu-apl">)CLEAR
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="org5e13b76"></a>Q1<br />
<div class="outline-text-5" id="text-org5e13b76">
<p>
Set up a four-row one-column table called <code>MILES</code> containing <code>300 42 25
140</code>.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">MILES &#8592; <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">1</span>&#9076;<span style="color: #f5c791;">300</span> <span style="color: #f5c791;">42</span> <span style="color: #f5c791;">25</span> <span style="color: #f5c791;">140</span>
</pre>
</div>

<p>
And a similarly shaped table called <code>RATES</code> containing <code>27.5 15 27.5
27.5</code>.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">RATES &#8592; <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">1</span>&#9076;<span style="color: #f5c791;">27</span>.<span style="color: #f5c791;">5</span> <span style="color: #f5c791;">15</span> <span style="color: #f5c791;">27</span>.<span style="color: #f5c791;">5</span> <span style="color: #f5c791;">27</span>.<span style="color: #f5c791;">5</span>
</pre>
</div>

<p>
Multiply <code>RATES</code> by <code>MILES</code>, then multiply the result by <code>0.01</code> to produce a
table called <code>EXPENSES</code>.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">+EXPENSES &#8592; .<span style="color: #f5c791;">01</span>&#215;RATES&#215;MILES
</pre>
</div>
</div>
</li>
<li><a id="orgfe3d11c"></a>Q2<br />
<div class="outline-text-5" id="text-orgfe3d11c">
<p>
Change the number in column 1 row 3 of <code>MILES</code> from <code>25</code> to <code>250</code>. Again,
multiply <code>RATES</code> by <code>MILES</code> and the result by <code>0.01</code> to give <code>EXPENSES</code>, then
reformat <code>EXPENSES</code> to produce a one-row four-column table.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">MILES[<span style="color: #f5c791;">3</span>;<span style="color: #f5c791;">1</span>] &#8592; <span style="color: #f5c791;">250</span>
+EXPENSES   &#8592; (.<span style="color: #f5c791;">01</span>&#215;RATES&#215;MILES)[;<span style="color: #f5c791;">1</span>]
</pre>
</div>

<p>
Alternative way to change <code>EXPENSES</code>; interesting way to store and
immediately use a variable.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">+EXPENSES &#8592; <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">4</span>&#9076;EXPENSES &#8592; .<span style="color: #f5c791;">01</span>&#215;RATES&#215;MILES
</pre>
</div>
</div>
</li>
<li><a id="org075bad1"></a>Q3<br />
<div class="outline-text-5" id="text-org075bad1">
<p>
Define <code>X</code> as a three-row ten-column table containing random numbers,
and <code>Y</code> as a three-row four-column table also containing random
numbers. Add <code>X</code> to <code>Y</code>, first taking whatever steps you think necessary
to enable the operation to take place.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Defining the tables</span>
X &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">10</span>&#9076;<span style="color: #f5c791;">30</span>?<span style="color: #f5c791;">30</span>
Y &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>&#9076;<span style="color: #f5c791;">30+12</span>?<span style="color: #f5c791;">12</span>

<span style="color: #454459;">&#9053; To sum Y into X, we catenate zeroes to Y,</span>
<span style="color: #454459;">&#9053; extending it.</span>
X+Y,<span style="color: #f5c791;">3</span> ((&#9076;X)[<span style="color: #f5c791;">2</span>]-(&#9076;Y)[<span style="color: #f5c791;">2</span>])&#9076;<span style="color: #f5c791;">0</span>
</pre>
</div>

<p>
Since the problem did not specify where to add the columns, here is an
alternative which catenates the zeroes to the left of <code>Y</code>:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">X+(<span style="color: #f5c791;">3</span> ((&#9076;X)[<span style="color: #f5c791;">2</span>]-(&#9076;Y)[<span style="color: #f5c791;">2</span>])&#9076;<span style="color: #f5c791;">0</span>),Y
</pre>
</div>
</div>
</li>
<li><a id="org532ad75"></a>Q4<br />
<div class="outline-text-5" id="text-org532ad75">
<p>
Using table <code>X</code>, add the first and second rows and replace the third row
with the result of the addition.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">X[<span style="color: #f5c791;">3</span>;] &#8592; X[<span style="color: #f5c791;">1</span>;]+X[<span style="color: #f5c791;">2</span>;]
</pre>
</div>
</div>
</li>
<li><a id="orge40f6b5"></a>Q5<br />
<div class="outline-text-5" id="text-orge40f6b5">
<p>
Create a table which [displays <code>APL ROCKS</code> in vertical orientation]:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">9</span> <span style="color: #f5c791;">1</span>&#9076;<span style="color: #f5c791;">'APL ROCKS'</span>
</pre>
</div>
</div>
</li>
<li><a id="org38dbc5b"></a>Q6<br />
<div class="outline-text-5" id="text-org38dbc5b">
<p>
What will be the result of each of these <code>⍴</code> statements? Predict each
result before you press ENTER.
</p>

<ul class="org-ul">
<li><code>⍴'ABC DEF'</code><br />
→ <code>7</code></li>
<li><code>⍴480 0 1.2</code><br />
→ <code>3</code></li>
<li><code>TABLE ← 10 10⍴100⍴1000</code><br />
<code>⍴TABLE</code><br />
→ <code>10 10</code></li>
<li><code>⍴'R'</code><br />
→ (empty)</li>
<li><code>⍴'480 0 1.2'</code><br />
→ <code>9</code></li>
<li><code>TABLE ← 2 10 3⍴100⍴100</code><br />
<code>⍴TABLE</code><br />
→ <code>2 10 3</code></li>
</ul>

<p>
<b>NOTE:</b> Recall why <code>⍴'R'</code> gives an empty response: a single value is
equivalent to a point, which has no size/dimension/shape.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-orgd377c9e" class="outline-4">
<h4 id="orgd377c9e">Cleanup</h4>
<div class="outline-text-4" id="text-orgd377c9e">
<div class="org-src-container">
<pre class="src src-gnu-apl">)CLEAR
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org46c73b2" class="outline-3">
<h3 id="org46c73b2">Writing a function</h3>
<div class="outline-text-3" id="text-org46c73b2">
<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Writing a function</span>
</pre>
</div>
</div>
<div id="outline-container-org21aed6b" class="outline-4">
<h4 id="org21aed6b">Precondition: the Slash operator</h4>
<div class="outline-text-4" id="text-org21aed6b">
<p>
The Slash (<code>/</code>) or Reduce operator is not a function; it modifies or
extends the operation of the functions it is used with.
</p>

<p>
It works as if by putting the operator between the numbers.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">+/ <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">6</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>
&#215;/ <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>
</pre>
</div>

<p>
This can be done on a table too, however it will sum in a row basis.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;&#9075;<span style="color: #f5c791;">9</span>
TABLE
+/ TABLE
</pre>
</div>

<p>
We can, however, apply Reduce twice to obtain the entire sum.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">+/+/ TABLE
</pre>
</div>

<p>
Useful combination: To select the largest number in a list, use <code>⌈</code>:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8968;/ <span style="color: #f5c791;">75</span> <span style="color: #f5c791;">72</span> <span style="color: #f5c791;">78</span> <span style="color: #f5c791;">90</span> <span style="color: #f5c791;">69</span> <span style="color: #f5c791;">77</span> <span style="color: #f5c791;">81</span> <span style="color: #f5c791;">88</span>
</pre>
</div>

<p>
The opposite equivalent (<code>⌊</code>) selects the smallest number:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8970;/ <span style="color: #f5c791;">75</span> <span style="color: #f5c791;">72</span> <span style="color: #f5c791;">78</span> <span style="color: #f5c791;">90</span> <span style="color: #f5c791;">69</span> <span style="color: #f5c791;">77</span> <span style="color: #f5c791;">81</span> <span style="color: #f5c791;">88</span>
</pre>
</div>

<p>
A final example: We take the sum of <code>X</code> (which is <code>15</code>) and divide it by
<code>X</code>'s shape (<code>5</code>). This yields <code>3</code>, as expected of <i>calculating the average</i>
of a number.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">X &#8592; &#9075;<span style="color: #f5c791;">5</span>
(+/ X)&#247;&#9076;X
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="orgeaa865d"></a>Axis arguments<br />
<div class="outline-text-5" id="text-orgeaa865d">
<p>
You can apply the Reduce operator on a per-column basis using axis
arguments. For example, these two are equivalent, since they take the
dimension zero (rows):
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">+/TABLE
+/[]TABLE
</pre>
</div>

<p>
If you wish to use the <b>columns</b> instead of the <b>rows</b>, just ask for axis
one:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">+/[<span style="color: #f5c791;">1</span>]TABLE
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org2b85d17" class="outline-4">
<h4 id="org2b85d17">User functions</h4>
<div class="outline-text-4" id="text-org2b85d17">
<p>
Now we'll preserve statements.
</p>

<p>
It seems some APL editors have a built-in editor. For example, one can
use the following commands:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)EDIT MYFUNC <span style="color: #454459;">&#9053; On modern editors</span>
)ED MYFUNC   <span style="color: #454459;">&#9053; On Dyalog</span>
&#8711;            <span style="color: #454459;">&#9053; On older editors, and on GNU APL as well</span>
</pre>
</div>

<p>
GNU APL also calls a new buffer when defining a function, under
Emacs. We can also send the following region to the interpreter no
problem. We just need to type in the function (<code>∇</code>) operator, which
starts the input mode.
</p>

<p>
Typing <code>∇</code> again goes back to calculator mode.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;<span style="color: #0bc9cf;">TRY1</span>
  <span style="color: #f5c791;">'Type some numbers: '</span>
  NUM &#8592; &#9109;   <span style="color: #454459;">&#9053; Asks for user input</span>
  <span style="color: #f5c791;">'Total is: '</span> (+/ NUM)
&#8711;
</pre>
</div>

<p>
In case this function doesn't work when typing, just use <code>∇TRY1</code> to
change its definition on the editor.
</p>

<p>
This defines a user function <code>TRY1</code>, which takes no arguments. The Quad
(<code>⎕</code>) operator calls in for user input.
</p>

<p>
You can edit a function such as <code>TRY1</code> anytime, by typing <code>∇TRY1</code> on the
REPL; other APL implementations will allow you to use the command
<code>)EDIT TRY1</code>, for example.
</p>

<p>
Here is another example:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;<span style="color: #0bc9cf;">TRY2</span>
  <span style="color: #f5c791;">'Type some numbers: '</span>
  NUM &#8592; &#9109;
  <span style="color: #f5c791;">'You have entered'</span> (&#9076;NUM) <span style="color: #f5c791;">'numbers'</span>
&#8711;
</pre>
</div>

<p>
And as requested, here is a way to calculate the average of some
numbers:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;<span style="color: #0bc9cf;">AVERAGE</span>
  <span style="color: #f5c791;">'Type some numbers:'</span>
  NUM &#8592; &#9109;
  <span style="color: #f5c791;">'Integer average of these numbers is:'</span> (&#8970;(+/ NUM)&#247;&#9076;NUM)
&#8711;
</pre>
</div>

<p>
One more definition.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;<span style="color: #0bc9cf;">TRY3</span>
  <span style="color: #f5c791;">'Type some numbers:'</span>
  NUM &#8592; &#9109;
  <span style="color: #f5c791;">'You have entered'</span> (&#9076;NUM) <span style="color: #f5c791;">'numbers'</span>
  <span style="color: #f5c791;">'The biggest was'</span> (&#8968;/ NUM)
  <span style="color: #f5c791;">'The smallest was'</span> (&#8970;/ NUM)
  <span style="color: #f5c791;">'Sum of numbers is'</span> (+/ NUM)
  <span style="color: #f5c791;">'Integer average of numbers is'</span> (&#8970;(+/ NUM)&#247;&#9076;NUM)
&#8711;
</pre>
</div>
</div>
</div>
<div id="outline-container-org9025f21" class="outline-4">
<h4 id="org9025f21">Saving a workspace</h4>
<div class="outline-text-4" id="text-org9025f21">
<p>
You can check out the user-defined functions in your workspace with
this command:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)FNS
</pre>
</div>

<p>
There are some extra variables as well (check by using <code>)VARS</code>), so we
need to erase them:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)ERASE TABLE X
</pre>
</div>

<p>
Now we'll save the current workspace. First let's set the workspace ID
to the filename where it should be salved.
</p>

<p>
Notice that we are using Unix notation and the XML extension. This is
a requirement for GNU APL.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)WSID ./MyFirstWS.xml
</pre>
</div>

<p>
Windows users, using NARS2000, should do something like:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)WSID <span style="color: #f5c791;">'c:\foo\MyFirstWS'</span>
</pre>
</div>

<p>
Now we use the command to save.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)SAVE
</pre>
</div>

<p>
My result was:
</p>

<pre class="example" id="orged2f703">
2019-08-06  12:56:35 (GMT-3) ./MyFirstWS.xml
</pre>

<p>
Now we can safely clear the workspace.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)CLEAR
</pre>
</div>

<p>
To load the workspace again, use the load command with the file name.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)LOAD ./MyFirstWS.xml
</pre>
</div>

<p>
<b>NOTE:</b> GNU APL instructs to use <code>)COPY</code> instead.
</p>
</div>
</div>
<div id="outline-container-org98d2174" class="outline-4">
<h4 id="org98d2174">User functions with arguments</h4>
<div class="outline-text-4" id="text-org98d2174">
<p>
User functions can have no arguments, one argument or two arguments.
</p>
</div>
<ul class="org-ul">
<li><a id="orgdc06e63"></a>Monadic<br />
<div class="outline-text-5" id="text-orgdc06e63">
<p>
We intent to build a function which averages the numbers in a list.
So let's define it.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;<span style="color: #0bc9cf;">AV</span> X
  (+/ X)&#247;&#9076;X
&#8711;
</pre>
</div>

<p>
Now we can use it properly.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">AV <span style="color: #f5c791;">12</span> <span style="color: #f5c791;">7</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">1</span>
AV <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">8</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">4</span>
AV <span style="color: #f5c791;">192</span> <span style="color: #f5c791;">4534</span> <span style="color: #f5c791;">12</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">2</span>

NUM &#8592; &#9075;<span style="color: #f5c791;">5</span>
AV NUM
</pre>
</div>
</div>
</li>
<li><a id="orgc00e0f9"></a>Dyadic<br />
<div class="outline-text-5" id="text-orgc00e0f9">
<p>
A dyadic function should be declared with arguments to its left and
its right:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;A <span style="color: #0bc9cf;">SUM</span> B
  A+B
&#8711;
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org38a2c6b" class="outline-4">
<h4 id="org38a2c6b">Using function results in other expressions</h4>
<div class="outline-text-4" id="text-org38a2c6b">
<p>
To do so, we need to rewrite the function to enable that. See this
rewriting of <code>AV</code>.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;R&#8592;<span style="color: #0bc9cf;">AV</span> X
  R&#8592;(+/ X)&#247;&#9076;X
&#8711;
</pre>
</div>

<p>
An example of usage:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#175;<span style="color: #f5c791;">3</span> + AV <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">8</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">4</span>
</pre>
</div>

<p>
The same can be done to dyadic functions.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;R&#8592;A <span style="color: #0bc9cf;">SUM</span> B
  R&#8592;A+B
&#8711;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfc36d1e" class="outline-4">
<h4 id="orgfc36d1e">Cleanup</h4>
<div class="outline-text-4" id="text-orgfc36d1e">
<div class="org-src-container">
<pre class="src src-gnu-apl">)ERASE NUM
)SAVE
)CLEAR
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="outline-container-org943e928" class="outline-2">
<h2 id="org943e928">APL Concepts</h2>
<div class="outline-text-2" id="text-org943e928">
</div>
<div id="outline-container-org705aa15" class="outline-3">
<h3 id="org705aa15">Overview of the APL System</h3>
<div class="outline-text-3" id="text-org705aa15">
<p>
APL is an interpreted language.
</p>

<p>
APL reserves an area in the RAM, which is called a workspace. This is
were programs and data reside. Other workspaces can be loaded at will
for calculation and processing.
</p>
</div>
<div id="outline-container-orga5e56af" class="outline-4">
<h4 id="orga5e56af">Data</h4>
<div class="outline-text-4" id="text-orga5e56af">
<p>
Data is acquired by typing or from files. All data is held in arrays
or scalars.
</p>

<p>
GNU APL supports complex numbers.
</p>

<p>
Formal names will be used from now on.
</p>
</div>
</div>
<div id="outline-container-org1f4e515" class="outline-4">
<h4 id="org1f4e515">Modes</h4>
<div class="outline-text-4" id="text-org1f4e515">
<p>
APL uses a modal interpreter. <i>Calculator mode</i> executes statements as
entered. <i>Definition mode</i> does not execute immediately, and stores
statements as a user-defined function or operator. <i>Function execution
mode</i> happens when you run a user-defined function or operator.
</p>
</div>
</div>
<div id="outline-container-orgecf28a1" class="outline-4">
<h4 id="orgecf28a1">Built-in functions and operators</h4>
<div class="outline-text-4" id="text-orgecf28a1">
<p>
APL has about 50 built-in <i>functions</i> which can be invoked by a single
symbol.
</p>

<p>
Most functions can perform two different opperations depending on
whether they're used with one or two arguments.
</p>

<p>
APL also has five built-in <i>operators</i>. Combining an operator with its
operands creates a <i>derived function</i>.
</p>
</div>
</div>
<div id="outline-container-org30518af" class="outline-4">
<h4 id="org30518af">System functions and variables</h4>
<div class="outline-text-4" id="text-org30518af">
<p>
Part of APL system, yet not part of APL language. Used to extend
facilities provided by original APL, they vary from one vendor to
another. Could also be tailored to the system which it is running.
</p>

<p>
System functions such as <code>⎕NREAD</code> and <code>⎕NWRITE</code> (with names starting with
a Quad <code>⎕</code>) read and write data from files, and are distinguishable from
the rest by their starting character.
</p>
</div>
</div>
<div id="outline-container-org1830874" class="outline-4">
<h4 id="org1830874">System commands</h4>
<div class="outline-text-4" id="text-org1830874">
<p>
They are also not part of the APL language itself, but are crucial to
managing the workspace. They always start with a <code>)</code>.
</p>
</div>
</div>
<div id="outline-container-orgebe5d93" class="outline-4">
<h4 id="orgebe5d93">User-defined functions and operators</h4>
<div class="outline-text-4" id="text-orgebe5d93">
<p>
Functions or operators which can be written by the user. Consists of
APL statements that have a name. Functions are edited through the
function editor, which can also be used to tweak a function.
</p>
</div>
</div>
<div id="outline-container-org2742c94" class="outline-4">
<h4 id="org2742c94">Files</h4>
<div class="outline-text-4" id="text-org2742c94">
<p>
Files are usually not necessary on APL, given the convenience of
workspaces, being only really required when dealing with big
projects. When that time comes, APL has facilities for that; and
workspaces can be shared between users.
</p>
</div>
</div>
<div id="outline-container-orga1c2f4e" class="outline-4">
<h4 id="orga1c2f4e">Error handling</h4>
<div class="outline-text-4" id="text-orga1c2f4e">
<p>
APL provides facilities for error trapping and diagnostics.
</p>
</div>
</div>
</div>
<div id="outline-container-org1603dc7" class="outline-3">
<h3 id="org1603dc7">The Workspace</h3>
<div class="outline-text-3" id="text-org1603dc7">
<p>
Workspaces are containers for functions and data, and can be saved on
disk by using commands.
</p>

<p>
APL also makes it easy to create test data for functions. Since
prototyping can be done so quickly, APL is sometimes referred to as a
"tool of thought".
</p>
</div>
<div id="outline-container-org51118fd" class="outline-4">
<h4 id="org51118fd">Functions, operators, classes</h4>
<div class="outline-text-4" id="text-org51118fd">
<p>
<i>Functions</i> can take 0, 1 or 2 arguments; arguments to functions are
always arrays.
</p>

<p>
<i>Operators</i> look like functions, but takes either one or two operands,
which can be functions (e.g. the Each operator <code>¨</code>). They can also be
defined.
</p>

<p>
<i>Classes</i> are a collection of functions, operators and data (named
properties). Acts as a template to create objects. Classes are
supported in Dyalog, but not in GNU APL.
</p>
</div>
</div>
<div id="outline-container-org0df0ac0" class="outline-4">
<h4 id="org0df0ac0">Workspace size</h4>
<div class="outline-text-4" id="text-org0df0ac0">
<p>
Some APLS allow changing the size of your workspace with <code>)CLEAR 50MB</code>,
for example.
</p>

<p>
To check the amount of free space on your workspace, use the system
function Workspace Available:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #9d81ba;">&#9109;WA</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org41b73dc" class="outline-4">
<h4 id="org41b73dc">Managing the workspace</h4>
<div class="outline-text-4" id="text-org41b73dc">
</div>
<ul class="org-ul">
<li><a id="orgcae594c"></a>Internal workspace commands<br />
<div class="outline-text-5" id="text-orgcae594c">
<p>
These have already been discussed.
</p>

<ul class="org-ul">
<li><code>)CLEAR</code>: Clear workspace. Erases all variables, functions, operators
and classes.</li>
<li><code>)ERASE</code>: Erases individual classes.</li>
<li><code>)VARS</code>: Lists all user-defined variables in the workspace.</li>
<li><code>)FNS</code>: Lists all user-defined functions in the workspace.</li>
<li><code>)OPS</code>: Lists all user-defined operators in the workspace.</li>
<li><code>)CLASSES</code>: Lists all user-defined classes in the workspace. Can be
used in Dyalog.</li>
</ul>
</div>
</li>
<li><a id="org424facb"></a>External workspace commands<br />
<div class="outline-text-5" id="text-org424facb">
<p>
Some of these have already been discussed.
</p>

<ul class="org-ul">
<li><code>)SAVE myWorkspace</code> saves a workspace to disk. Append <code>.xml</code> if you're
using GNU APL.</li>
<li><code>)LOAD myWorkspace</code> loads an entire workspace back into memory; the
workspace in memory is overwritten.</li>
<li><code>)COPY</code> can be used to copy a function from a workspace in disk, but
does not overwrite the current workspace.</li>
<li><code>)DROP</code> deletes a workspace on disk.</li>
<li><code>)LIB</code> shows the names of the workspaces stored on disk.</li>
</ul>

<p>
Save locations vary due to APL implementations.
</p>
</div>
</li>
</ul>
</div>
<div id="outline-container-org7955515" class="outline-4">
<h4 id="org7955515">System variables</h4>
<div class="outline-text-4" id="text-org7955515">
<p>
Here are some useful system variables which you may use.
</p>

<ul class="org-ul">
<li><code>⎕WA</code>: Workspace Available. Number of available bytes for use in
workspace.</li>
<li><code>⎕PP</code>: Print Precision. Number of digits displayed in numeric output.</li>
<li><code>⎕PW</code>: Print Width. Max number of characters in each printed line.</li>
<li><code>⎕LX</code>: Latent Expression. This variable contains an expression or
user-defined function which is executed when the workspace is
loaded; effectively, a setup function for the current
workspace. Empty by default.</li>
<li><code>⎕IO</code>: Index Origin. Stores the value where indexes start. GNU APL
starts at 1, but can be changed to 0.</li>
</ul>
</div>
</div>
<div id="outline-container-org56727db" class="outline-4">
<h4 id="org56727db">System functions</h4>
<div class="outline-text-4" id="text-org56727db">
<p>
These vary from vendor to vendor, so there is no guarantee that these
will work in your APL. For example:
</p>

<ul class="org-ul">
<li><code>⎕NL</code>: Name List. Produces a list of variables, functions, operators
or classes.</li>
<li><code>⎕EX</code>: Expunge. Expunges individual APL objects.</li>
</ul>

<p>
System functions are designed to be used in user-defined commands,
whereas system commands are designed for direct usage.
</p>
</div>
</div>
</div>
<div id="outline-container-org8733318" class="outline-3">
<h3 id="org8733318">Data</h3>
<div class="outline-text-3" id="text-org8733318">
<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053;&#9053;&#9053; APL Concepts</span>

<span style="color: #454459;">&#9053; Data</span>
</pre>
</div>
</div>
<div id="outline-container-orgfd42da4" class="outline-4">
<h4 id="orgfd42da4">Variables</h4>
<div class="outline-text-4" id="text-orgfd42da4">
<p>
Data can be directly quoted&#x2026;
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">234</span>.<span style="color: #f5c791;">98</span>&#215;<span style="color: #f5c791;">3409</span>&#247;<span style="color: #f5c791;">12</span>.<span style="color: #f5c791;">4</span>
</pre>
</div>

<p>
&#x2026;or assigned to a name.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">VAR &#8592; <span style="color: #f5c791;">183</span>.<span style="color: #f5c791;">6</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orgfee5efc" class="outline-4">
<h4 id="orgfee5efc">Names</h4>
<div class="outline-text-4" id="text-orgfee5efc">
<p>
APL allows uppercase and lowercase characters, some APLs also allows
symbols too.
</p>
</div>
</div>
<div id="outline-container-orgb2c9b5b" class="outline-4">
<h4 id="orgb2c9b5b">Types of data</h4>
<div class="outline-text-4" id="text-orgb2c9b5b">
<p>
Data can be numbers, characters or a mixture of those. GNU APL in
particular also allows complex numbers; Dyalog allows classes.
</p>
</div>
</div>
<div id="outline-container-org24adb04" class="outline-4">
<h4 id="org24adb04">Size, shape and depth</h4>
<div class="outline-text-4" id="text-org24adb04">
<p>
From now on, unless there is something new, only some examples will be
typed.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Scalars (no dimensions)</span>
<span style="color: #f5c791;">294</span>
<span style="color: #f5c791;">'A'</span>

<span style="color: #454459;">&#9053; Vectors (one dimension -- length)</span>
<span style="color: #f5c791;">23</span> <span style="color: #f5c791;">8</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">12</span> <span style="color: #f5c791;">3</span>
<span style="color: #f5c791;">'ABC'</span>
<span style="color: #f5c791;">28</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">'A'</span> <span style="color: #f5c791;">'BC'</span>

<span style="color: #454459;">&#9053; 2D Matrices (two dimensions -- height and length)</span>
<span style="color: #454459;">&#9053; There is no way to write a matrix literal.</span>
<span style="color: #f5c791;">4</span> <span style="color: #f5c791;">4</span>&#9076;<span style="color: #f5c791;">7</span> <span style="color: #f5c791;">45</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">89</span> <span style="color: #f5c791;">16</span> <span style="color: #f5c791;">15</span> <span style="color: #f5c791;">10</span> <span style="color: #f5c791;">21</span> <span style="color: #f5c791;">8</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">13</span> <span style="color: #f5c791;">99</span> <span style="color: #f5c791;">83</span> <span style="color: #f5c791;">19</span> <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">27</span>
<span style="color: #f5c791;">4</span> <span style="color: #f5c791;">2</span>&#9076;<span style="color: #f5c791;">'WILSO'</span> <span style="color: #f5c791;">393</span> <span style="color: #f5c791;">'ADAMS'</span> <span style="color: #f5c791;">7183</span> <span style="color: #f5c791;">'CAIRN'</span> <span style="color: #f5c791;">87</span> <span style="color: #f5c791;">'SAMSO'</span> <span style="color: #f5c791;">8467</span>

<span style="color: #454459;">&#9053; 3D Matrices (three dimensions)</span>
<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>&#9076;<span style="color: #f5c791;">36</span>?<span style="color: #f5c791;">100</span>
</pre>
</div>

<p>
Arrays are data structures of any dimension &#x2013; obviously, scalars do
not apply.
</p>
</div>
</div>
<div id="outline-container-org34e96a8" class="outline-4">
<h4 id="org34e96a8">Setting up data structures</h4>
<div class="outline-text-4" id="text-org34e96a8">
<div class="org-src-container">
<pre class="src src-gnu-apl">X1 &#8592; <span style="color: #f5c791;">23</span> <span style="color: #f5c791;">9</span> <span style="color: #f5c791;">144</span> <span style="color: #f5c791;">12</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">0</span>
X2 &#8592; <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">'A'</span> <span style="color: #f5c791;">'B'</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>
<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>&#9076;<span style="color: #f5c791;">23</span> <span style="color: #f5c791;">9</span> <span style="color: #f5c791;">144</span> <span style="color: #f5c791;">12</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">0</span>

NUMS &#8592; <span style="color: #f5c791;">36</span>?<span style="color: #f5c791;">100</span>
<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>&#9076;NUMS

<span style="color: #f5c791;">6</span>&#9076;<span style="color: #f5c791;">9</span>

<span style="color: #454459;">&#9053; Nested arrays</span>
VAR &#8592; (<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>&#9076;<span style="color: #f5c791;">9</span>) (<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>) <span style="color: #f5c791;">'A'</span> <span style="color: #f5c791;">'ABCD'</span> <span style="color: #f5c791;">88</span> <span style="color: #f5c791;">16</span>.<span style="color: #f5c791;">1</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org31a3bfc" class="outline-4">
<h4 id="org31a3bfc">Data structure <i>versus</i> data value</h4>
<div class="outline-text-4" id="text-org31a3bfc">
<div class="org-src-container">
<pre class="src src-gnu-apl">X &#8592; <span style="color: #f5c791;">1</span>&#9076;<span style="color: #f5c791;">22</span>
Y &#8592; <span style="color: #f5c791;">22</span>

&#9076;X    <span style="color: #454459;">&#9053; 1, because X is a vector</span>
&#9076;Y    <span style="color: #454459;">&#9053; Empty response, because Y is a scalar</span>

Z &#8592; <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">5</span>&#9076;<span style="color: #f5c791;">12</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">38</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">6</span>   <span style="color: #454459;">&#9053; When displayed, Z looks like a vector,</span>
&#9076;Z                    <span style="color: #454459;">&#9053; but is in fact a 1&#215;5 matrix</span>

)CLEAR
</pre>
</div>
</div>
</div>
<div id="outline-container-orgc65b76d" class="outline-4">
<h4 id="orgc65b76d">Empty data structures</h4>
<div class="outline-text-4" id="text-orgc65b76d">
<p>
Useful for some things, for example flor predefined storage areas,
where elements can be added.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">X &#8592; &#9075;<span style="color: #f5c791;">0</span>   <span style="color: #454459;">&#9053; X is a vector of zero elements</span>
X        <span style="color: #454459;">&#9053; Printing X gives an empty response</span>
&#9076;X       <span style="color: #454459;">&#9053; Asking for the shape of X gives a zero</span>
</pre>
</div>

<p>
This is fundamentally different than a scalar, which does not have
<i>zero elements</i>: a scalar has <i>zero dimensions</i> instead.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#9076;<span style="color: #f5c791;">45</span>
</pre>
</div>

<p>
We can also create empty matrices. For example, a matrix of two rows
and no columns:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TAB &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">0</span>&#9076;&#9075;<span style="color: #f5c791;">0</span>
TAB
&#9076;TAB
</pre>
</div>
</div>
</div>
<div id="outline-container-orgbbe38c0" class="outline-4">
<h4 id="orgbbe38c0">Dimension ordering</h4>
<div class="outline-text-4" id="text-orgbbe38c0">
<p>
General rule when applying an operation to data (e.g. a reduce <code>/</code>):
</p>

<p>
<b>Unless specified otherwise, the operation takes place on the last
 dimension.</b>
</p>

<p>
For example, consider a 3×4 matrix.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">X &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>&#9076;&#9075;<span style="color: #f5c791;">12</span>
+/ X
</pre>
</div>

<p>
Applying a reduction to it yields a list of three elements. Each
element of the list is the sum of a <b>row</b>. This is because a column is
the <b>last</b> dimension of a 2D matrix (3 rows, 4 columns).
</p>

<p>
In other words, since we're performing the reduction on the last
dimension (columns), then each result is the sum of all <b>columns</b>
belonging to that row.
</p>

<p>
You can change that by using the axis (<code>[]</code>) operator:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">+/[<span style="color: #f5c791;">1</span>] X
</pre>
</div>

<p>
This carries the reduction on the first axis (rows), therefore the
resulting list of four numbers is the sum of each <b>column</b>.
</p>

<p>
Now each result is the sum of all <b>rows</b> belonging to that column.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)CLEAR
</pre>
</div>
</div>
</div>
<div id="outline-container-org2a7283e" class="outline-4">
<h4 id="org2a7283e">Indexing</h4>
<div class="outline-text-4" id="text-org2a7283e">
<p>
There is something that remains to be discussed. Last section talked
about the rows in index 1. This seems to mean that in APL indexes
start at 1, but that might not be always true. This is true for GNU
APL, to say the least.
</p>

<p>
If you wish to change indexing, just change the Index Origin system
variable (this bit is not tangled):
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #9d81ba;">&#9109;IO</span> &#8592; <span style="color: #f5c791;">0</span>
</pre>
</div>

<p>
From here on, we'll consider Index Origin to be <code>1</code>.
</p>

<p>
Selecting elements is easy. Just use the brackets (<code>[]</code>), and separate
variable indexes with <code>;</code>.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Indexing in one dimension</span>
X &#8592; <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">45</span> <span style="color: #f5c791;">6</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">9</span> <span style="color: #f5c791;">33</span> <span style="color: #f5c791;">6</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">22</span>
X[<span style="color: #f5c791;">4</span>] + X[<span style="color: #f5c791;">10</span>]

<span style="color: #454459;">&#9053; Indexing in two dimensions</span>
TABLE &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;<span style="color: #f5c791;">9</span>?<span style="color: #f5c791;">100</span>
TABLE[<span style="color: #f5c791;">3</span>;<span style="color: #f5c791;">2</span>]         <span style="color: #454459;">&#9053; Indexing for more than one dimension</span>

<span style="color: #454459;">&#9053; Indexing in three dimensions</span>
DATA &#8592; <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">4</span>&#9076;<span style="color: #f5c791;">64</span>?<span style="color: #f5c791;">100</span>
DATA[<span style="color: #f5c791;">2</span>;<span style="color: #f5c791;">1</span>;<span style="color: #f5c791;">4</span>]

<span style="color: #454459;">&#9053; Selecting an entire row in tree ways</span>
TABLE[<span style="color: #f5c791;">1</span>;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>]
TABLE[<span style="color: #f5c791;">1</span>;&#9075;<span style="color: #f5c791;">3</span>]
TABLE[<span style="color: #f5c791;">1</span>;]

<span style="color: #454459;">&#9053; Selecting an entire column</span>
TABLE[;<span style="color: #f5c791;">2</span>]

<span style="color: #454459;">&#9053; Selecting from anonymous data</span>
(<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">8</span> <span style="color: #f5c791;">4</span>)[<span style="color: #f5c791;">1+2</span>]

<span style="color: #454459;">&#9053; Selecting from an anonymous string, based on a variable</span>
P &#8592; <span style="color: #f5c791;">2</span>
<span style="color: #f5c791;">'ABCDE'</span>[P]
</pre>
</div>

<p>
Some useful stuff that has not been discussed yet:
</p>

<p>
Indexing can also be used to rearrange elements on a matrix!
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">'ABCDE'</span>[<span style="color: #f5c791;">4</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">4</span>]
</pre>
</div>

<p>
We can also do indexing with variables of a higher dimension. This
pretty much collects stuff and stores it in the created shape:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">'ABCDE'</span>[<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;<span style="color: #f5c791;">4</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">4</span>]
</pre>
</div>

<p>
Indexing can also be done with the squad (<code>⌷</code>) symbol (notice that this
is different from the quad <code>⎕</code>, since it is narrower):
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">2</span>&#9015;<span style="color: #f5c791;">'ABCD'</span>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-gnu-apl">)CLEAR
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org983c3dd" class="outline-3">
<h3 id="org983c3dd">Built-in functions</h3>
<div class="outline-text-3" id="text-org983c3dd">
<p>
APL has 50 useful built-in functions in general, and 5 operators to
modify and extend how functions work.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Built-in Functions</span>
</pre>
</div>
</div>
<div id="outline-container-org7a8156e" class="outline-4">
<h4 id="org7a8156e">Arguments</h4>
<div class="outline-text-4" id="text-org7a8156e">
<p>
Most functions have two behaviours depending on how you place their
arguments. For example:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8968;<span style="color: #f5c791;">12</span>.<span style="color: #f5c791;">625</span>         <span style="color: #454459;">&#9053; Ceiling</span>
<span style="color: #f5c791;">2</span>&#8968;<span style="color: #f5c791;">8</span>             <span style="color: #454459;">&#9053; Select greatest number</span>

&#247;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">5</span>      <span style="color: #454459;">&#9053; Reciprocal</span>
<span style="color: #f5c791;">100</span>&#247;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">5</span>   <span style="color: #454459;">&#9053; Divide 100 by each</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org6085630" class="outline-4">
<h4 id="org6085630">Execution order</h4>
<div class="outline-text-4" id="text-org6085630">
<p>
Expressions are evaluated from right to left. The results of one
function become the argument of the next function.
</p>
</div>
</div>
<div id="outline-container-org4f2cd8d" class="outline-4">
<h4 id="org4f2cd8d">Numbers or text</h4>
<div class="outline-text-4" id="text-org4f2cd8d">
<p>
Some functions work on numbers only. Some work on either numbers or
text data. Using a function which does not work on a data type yields
a <code>DOMAIN ERROR</code>.
</p>

<p>
Some functions also work only on a subset of the number domain, such
as logical functions (<code>∨</code>, <code>∧</code> etc.) Thiis means that they only recognize
the states of TRUTH (<code>1</code>) and FALSITY (<code>0</code>).
</p>
</div>
</div>
<div id="outline-container-org4f7cf2c" class="outline-4">
<h4 id="org4f7cf2c">Shape and size of data</h4>
<div class="outline-text-4" id="text-org4f7cf2c">
<p>
Some functions can be used only on data of a certain shape. The
following example (not tangled) yields a <code>LENGTH ERROR</code>, because data on
both sides do not have the same shape:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">29</span> <span style="color: #f5c791;">51</span> <span style="color: #f5c791;">60</span> <span style="color: #f5c791;">27</span>&#247;<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">11</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-orge2cc5f7" class="outline-4">
<h4 id="orge2cc5f7">Groups of functions</h4>
<div class="outline-text-4" id="text-orge2cc5f7">
<p>
Following there will be some examples of functions, which I'll store
in tables as given in the tutorial, for further consulting.
</p>

<p>
Unless there is a new function with non-obvious usage, there will be
some examples.
</p>
</div>
<ul class="org-ul">
<li><a id="org439a137"></a>Arithmetic functions<br />
<div class="outline-text-5" id="text-org439a137">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Monadic form</th>
<th scope="col" class="org-left">Dyadic form</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">+</td>
<td class="org-left">Numeric</td>
<td class="org-left">Add</td>
</tr>

<tr>
<td class="org-left">-</td>
<td class="org-left">Negation</td>
<td class="org-left">Subtract</td>
</tr>

<tr>
<td class="org-left">×</td>
<td class="org-left">Sign</td>
<td class="org-left">Multiply</td>
</tr>

<tr>
<td class="org-left">÷</td>
<td class="org-left">Reciprocal</td>
<td class="org-left">Divide</td>
</tr>

<tr>
<td class="org-left">⌈</td>
<td class="org-left">Ceiling</td>
<td class="org-left">Biggest</td>
</tr>

<tr>
<td class="org-left">⌊</td>
<td class="org-left">Floor</td>
<td class="org-left">Smallest</td>
</tr>

<tr>
<td class="org-left">&vert;</td>
<td class="org-left">Modulo</td>
<td class="org-left">Remainder</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="org8252086"></a>Algebraic functions<br />
<div class="outline-text-5" id="text-org8252086">
<p>
Functions for advanced arithmetic.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Monadic form</th>
<th scope="col" class="org-left">Dyadic form</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">⍳</td>
<td class="org-left">Index generator</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">?</td>
<td class="org-left">Random number</td>
<td class="org-left">Random deal</td>
</tr>

<tr>
<td class="org-left">⋆ or *</td>
<td class="org-left">'e' to the power</td>
<td class="org-left">Number to the power</td>
</tr>

<tr>
<td class="org-left">⍟</td>
<td class="org-left">Log to base 'e'</td>
<td class="org-left">Log to any base</td>
</tr>

<tr>
<td class="org-left">○</td>
<td class="org-left">&pi; times</td>
<td class="org-left">Sine, cosine, etc</td>
</tr>

<tr>
<td class="org-left">!</td>
<td class="org-left">Factorial</td>
<td class="org-left">Combinations</td>
</tr>

<tr>
<td class="org-left">⌹</td>
<td class="org-left">Matrix inversion</td>
<td class="org-left">Matrix division</td>
</tr>
</tbody>
</table>
</div>
<ul class="org-ul">
<li><a id="orgc2ea717"></a>Circle operator<br />
<div class="outline-text-6" id="text-orgc2ea717">
<p>
The circle operator (<code>○</code>) does not have an obvious operation on its
dyadic form. Here is a table of values of &alpha; on the case &alpha; ○
&omega;, taken from TryAPL:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&alpha;</th>
<th scope="col" class="org-left">&alpha; ○ &omega;</th>
<th scope="col" class="org-right">&alpha;</th>
<th scope="col" class="org-left">&alpha; ○ &omega;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">0</td>
<td class="org-left">(1-&omega;⋆2)⋆0.5</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
</tr>

<tr>
<td class="org-left">¯1</td>
<td class="org-left">Arcsin &omega;</td>
<td class="org-right">1</td>
<td class="org-left">Sin &omega;</td>
</tr>

<tr>
<td class="org-left">¯2</td>
<td class="org-left">Arccos &omega;</td>
<td class="org-right">2</td>
<td class="org-left">Cos &omega;</td>
</tr>

<tr>
<td class="org-left">¯3</td>
<td class="org-left">Arctan &omega;</td>
<td class="org-right">3</td>
<td class="org-left">Tan &omega;</td>
</tr>

<tr>
<td class="org-left">¯4</td>
<td class="org-left">(¯1+&omega;⋆2)⋆0.5</td>
<td class="org-right">4</td>
<td class="org-left">(1+&omega;⋆2)≠0.5</td>
</tr>

<tr>
<td class="org-left">¯5</td>
<td class="org-left">Arcsinh &omega;</td>
<td class="org-right">5</td>
<td class="org-left">Sinh &omega;</td>
</tr>

<tr>
<td class="org-left">¯6</td>
<td class="org-left">Arccosh &omega;</td>
<td class="org-right">6</td>
<td class="org-left">Cosh &omega;</td>
</tr>

<tr>
<td class="org-left">¯7</td>
<td class="org-left">Arctanh &omega;</td>
<td class="org-right">7</td>
<td class="org-left">Tanh &omega;</td>
</tr>

<tr>
<td class="org-left">¯8</td>
<td class="org-left">-8○&omega;</td>
<td class="org-right">8</td>
<td class="org-left">(¯1+&omega;⋆2)⋆0.5</td>
</tr>

<tr>
<td class="org-left">¯9</td>
<td class="org-left">&omega;</td>
<td class="org-right">9</td>
<td class="org-left">Real part of &omega;</td>
</tr>

<tr>
<td class="org-left">¯10</td>
<td class="org-left">+&omega;</td>
<td class="org-right">10</td>
<td class="org-left">&vert; &omega;</td>
</tr>

<tr>
<td class="org-left">¯11</td>
<td class="org-left">&omega; × <code>0J1</code></td>
<td class="org-right">11</td>
<td class="org-left">Imag part of &omega;</td>
</tr>

<tr>
<td class="org-left">¯12</td>
<td class="org-left">⋆&omega;</td>
<td class="org-right">12</td>
<td class="org-left">Phase of &omega;</td>
</tr>
</tbody>
</table>

<p>
Also notice that <code>0J1</code> is a complex number of real part <code>0</code> and imaginary
part <code>1</code>.
</p>
</div>
</li>
<li><a id="org46b39f4"></a>Domino operator<br />
<div class="outline-text-6" id="text-org46b39f4">
<p>
The Domino operator (<code>⌹</code>) generates the inverse of a matrix in its
monadic form, and divides a matrix by another in its dyadic form:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">MAT &#8592; <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;&#9075;<span style="color: #f5c791;">4</span>
&#9017;MAT
<span style="color: #f5c791;">5</span> <span style="color: #f5c791;">6</span>&#9017;MAT
</pre>
</div>
</div>
</li>
</ul>
</li>
<li><a id="orgc048ff9"></a>Comparative functions<br />
<div class="outline-text-5" id="text-orgc048ff9">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Monadic form</th>
<th scope="col" class="org-left">Dyadic form</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">&lt;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Less than</td>
</tr>

<tr>
<td class="org-left">≤</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Less than or equal</td>
</tr>

<tr>
<td class="org-left">=</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Equal</td>
</tr>

<tr>
<td class="org-left">≥</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Greater than or equal</td>
</tr>

<tr>
<td class="org-left">&gt;</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Greater than</td>
</tr>

<tr>
<td class="org-left">≠</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Not equal</td>
</tr>

<tr>
<td class="org-left">≡</td>
<td class="org-left">Depth</td>
<td class="org-left">Match</td>
</tr>

<tr>
<td class="org-left">≢</td>
<td class="org-left">Tally</td>
<td class="org-left">Not match</td>
</tr>

<tr>
<td class="org-left">∊</td>
<td class="org-left">Enlist</td>
<td class="org-left">Membership</td>
</tr>

<tr>
<td class="org-left">⍳</td>
<td class="org-left">Iota</td>
<td class="org-left">Index of</td>
</tr>

<tr>
<td class="org-left">⍷</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Find</td>
</tr>
</tbody>
</table>

<p>
Here's an interesting use for comparative functions: Suppose we have a
table, where some numbers are negative. How can we test which numbers
are less than zero in it?
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;<span style="color: #f5c791;">25-9</span>?<span style="color: #f5c791;">50</span>
TABLE &lt; <span style="color: #f5c791;">0</span>
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="org4525bcf"></a>Equal underbar<br />
<div class="outline-text-6" id="text-org4525bcf">
<p>
The Equal underbar (<code>≡</code>) serves two purposes. In its monadic form, it
shows the depth of a specific structure.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8801;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;<span style="color: #f5c791;">1</span> (<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>) (<span style="color: #f5c791;">4</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">6</span> <span style="color: #f5c791;">7</span>) (<span style="color: #f5c791;">8</span> (<span style="color: #f5c791;">9</span> <span style="color: #f5c791;">10</span>) <span style="color: #f5c791;">11</span>)
</pre>
</div>

<p>
In its dyadic form, it attempts to match both parameters to see if
they are equal in shape, order and values:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">'t'</span> <span style="color: #f5c791;">'e'</span> <span style="color: #f5c791;">'s'</span> <span style="color: #f5c791;">'t'</span>&#8801;<span style="color: #f5c791;">'test'</span>
</pre>
</div>
</div>
</li>
<li><a id="org6b376d5"></a>Equal underbar slash<br />
<div class="outline-text-6" id="text-org6b376d5">
<p>
The Equal underbar slash (<code>≢</code>) does the exact opposite of <code>≡</code>. In its
monadic form, it shows the tally (shallowest depth) of a specific
structure:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8802;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;<span style="color: #f5c791;">1</span> (<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>) (<span style="color: #f5c791;">4</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">6</span> <span style="color: #f5c791;">7</span>) (<span style="color: #f5c791;">8</span> (<span style="color: #f5c791;">9</span> <span style="color: #f5c791;">10</span>) <span style="color: #f5c791;">11</span>)
</pre>
</div>

<p>
In its dyadic form, it checks if both parameters <b>do not match</b>:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">(<span style="color: #f5c791;">'t'</span> <span style="color: #f5c791;">'e'</span>) (<span style="color: #f5c791;">'s'</span> <span style="color: #f5c791;">'t'</span>)&#8802;<span style="color: #f5c791;">'test'</span>
</pre>
</div>
</div>
</li>
<li><a id="org70e9b2c"></a>Epsilon<br />
<div class="outline-text-6" id="text-org70e9b2c">
<p>
The Epsilon (<code>∊</code>), in its dyadic form, checks whether the first
parameter is enclosed in the second parameter, thus testing for
membership:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">2</span>&#8714;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>
</pre>
</div>

<p>
The monadic form, however, <i>enlists</i> a certain value. If it is a scalar,
it is put into a list; if it is a list, nothing changes; if it is a
matrix, rows will be put one after the other to form a single list.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8714;<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;&#9075;<span style="color: #f5c791;">27</span>
</pre>
</div>
</div>
</li>
<li><a id="org0a20a60"></a>Epsilon underbar<br />
<div class="outline-text-6" id="text-org0a20a60">
<p>
The Epsilon underbar (<code>⍷</code>) is only dyadic, and attempts to find the
first argument (which should be a pattern) inside the second
argument. The result should be a structure which marks where the
occurence starts for each occurence found.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">'ana'</span> &#9079; <span style="color: #f5c791;">'banana'</span>
</pre>
</div>
</div>
</li>
<li><a id="org2e84914"></a>Iota<br />
<div class="outline-text-6" id="text-org2e84914">
<p>
The Iota (<code>⍳</code>) in its monadic form generates a list from <code>0</code> to <code>n</code>.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#9075;<span style="color: #f5c791;">9</span>
<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;&#9075;<span style="color: #f5c791;">9</span>
</pre>
</div>

<p>
In its dyadic form, it attempts to find the <b>second</b> argument inside the
<b>first</b> argument. The first match found returns the element index inside
the list, matrix, etc.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">X &#8592; <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">3</span>
X[(<span style="color: #f5c791;">0</span>&#8800;<span style="color: #f5c791;">0</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">3</span>)&#9075;<span style="color: #f5c791;">1</span>] <span style="color: #454459;">&#9053; Get first non-null element of X</span>
</pre>
</div>
</div>
</li>
</ul>
</li>
<li><a id="orge84175c"></a>Logical functions<br />
<div class="outline-text-5" id="text-orge84175c">
<p>
These functions work only with yielding <code>0</code> or <code>1</code> by default, but they
are also used for <i>branching</i>.
</p>

<p>
All functions are dyadic, unless specified otherwise.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">~</td>
<td class="org-left">Not (Monadic)</td>
</tr>

<tr>
<td class="org-left">∨</td>
<td class="org-left">Or</td>
</tr>

<tr>
<td class="org-left">∧</td>
<td class="org-left">And</td>
</tr>

<tr>
<td class="org-left">⍱</td>
<td class="org-left">Nor</td>
</tr>

<tr>
<td class="org-left">⍲</td>
<td class="org-left">Nand</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-gnu-apl">~<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span>
<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span>&#8744;<span style="color: #f5c791;">0</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span>
<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span>&#8743;<span style="color: #f5c791;">0</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span>
<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span>&#9073;<span style="color: #f5c791;">0</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span>
<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span>&#9074;<span style="color: #f5c791;">0</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span>
</pre>
</div>

<p>
We can also short-circuit expressions. Should even be useful for
comparisions.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">(<span style="color: #f5c791;">5</span> &gt; <span style="color: #f5c791;">4</span>) &#8743; <span style="color: #f5c791;">1</span> &lt; <span style="color: #f5c791;">3</span>
</pre>
</div>
</div>
</li>
<li><a id="orgc52beb0"></a>Manipulative functions<br />
<div class="outline-text-5" id="text-orgc52beb0">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Monadic form</th>
<th scope="col" class="org-left">Dyadic form</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">⍴</td>
<td class="org-left">Shape</td>
<td class="org-left">Reshape</td>
</tr>

<tr>
<td class="org-left">,</td>
<td class="org-left">Ravel</td>
<td class="org-left">Catenate</td>
</tr>

<tr>
<td class="org-left">~</td>
<td class="org-left">Not</td>
<td class="org-left">Without</td>
</tr>

<tr>
<td class="org-left">⌽</td>
<td class="org-left">Reverse</td>
<td class="org-left">Rotate</td>
</tr>

<tr>
<td class="org-left">⍉</td>
<td class="org-left">Transpose</td>
<td class="org-left">Dyadic transpose</td>
</tr>

<tr>
<td class="org-left">↑</td>
<td class="org-left">Take first</td>
<td class="org-left">Take <code>n</code></td>
</tr>

<tr>
<td class="org-left">↓</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Drop <code>n</code></td>
</tr>

<tr>
<td class="org-left">⊂</td>
<td class="org-left">Enclose</td>
<td class="org-left">Partitioned enclose</td>
</tr>

<tr>
<td class="org-left">⊃</td>
<td class="org-left">Disclose</td>
<td class="org-left">Pick</td>
</tr>

<tr>
<td class="org-left">∩</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Intersection</td>
</tr>

<tr>
<td class="org-left">∪</td>
<td class="org-left">Unique</td>
<td class="org-left">Union</td>
</tr>

<tr>
<td class="org-left">⊢</td>
<td class="org-left">Identity</td>
<td class="org-left">Right</td>
</tr>

<tr>
<td class="org-left">⊣</td>
<td class="org-left">Identity</td>
<td class="org-left">Left</td>
</tr>
</tbody>
</table>
</div>
<ul class="org-ul">
<li><a id="org1d841df"></a>Comma<br />
<div class="outline-text-6" id="text-org1d841df">
<p>
The Ravel (<code>,</code>) operator, in its monadic form, turns a matrix into a
list.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">X &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;&#9075;<span style="color: #f5c791;">27</span> <span style="color: #454459;">&#9053; A cube</span>
,X
</pre>
</div>

<p>
However, we can use axis parameters to induce other behaviours.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">,[<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span>]X
</pre>
</div>

<p>
The dyadic form catenates two structures. The particular behaviour is
determined by shape.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">(<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;&#9075;<span style="color: #f5c791;">9</span>),(<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;<span style="color: #f5c791;">9+</span>&#9075;<span style="color: #f5c791;">9</span>)
</pre>
</div>
</div>
</li>
<li><a id="org3a2f334"></a>Circle Stile<br />
<div class="outline-text-6" id="text-org3a2f334">
<p>
The Reverse (<code>⌽</code>), in its monadic form, reverses the elements along the
last axis.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#9021;<span style="color: #f5c791;">0</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">7</span>
</pre>
</div>

<p>
Its dyadic form performs a rotation on the elements of the second
parameter, in the last axis, by the number of elements specified in
the second parameter, as if the data were stored in a toroidal
shape. Number of rotated elements' sign provides the direction.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">2</span>&#9021;<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;&#9075;<span style="color: #f5c791;">9</span>
&#175;<span style="color: #f5c791;">2</span>&#9021;<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;&#9075;<span style="color: #f5c791;">9</span>
</pre>
</div>
</div>
</li>
<li><a id="org9bbb128"></a>Transpose<br />
<div class="outline-text-6" id="text-org9bbb128">
<p>
The Transpose (<code>⍉</code>), in its monadic form, reverses the axes of the given
matrix.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#9033;<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;&#9075;<span style="color: #f5c791;">9</span>
</pre>
</div>

<p>
In its dyadic form, we can directly instruct which axes are swapped
and how:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">2</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">3</span>&#9033;<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;&#9075;<span style="color: #f5c791;">27</span>    <span style="color: #454459;">&#9053; Swap axes 1 and 2</span>
</pre>
</div>
</div>
</li>
<li><a id="org2fabec1"></a>Up Arrow<br />
<div class="outline-text-6" id="text-org2fabec1">
<p>
The Take function (<code>↑</code>), in its monadic form, gets the first element of
an array.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8593;<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span>
</pre>
</div>

<p>
In its dyadic form, it takes exactly the number of elements specified
at the first parameter, from the second parameter. If the absolute
number exceeds the length, the resulting list is zero-filled. If the
number is negative, it is taken from last element.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">2</span>&#8593;&#9021;&#9075;<span style="color: #f5c791;">4</span>
&#175;<span style="color: #f5c791;">7</span>&#8593;&#9021;&#9075;<span style="color: #f5c791;">4</span>
</pre>
</div>
</div>
</li>
<li><a id="orgc61c821"></a>Down Arrow<br />
<div class="outline-text-6" id="text-orgc61c821">
<p>
The Drop function (<code>↓</code>) has only a dyadic form, and drops the number of
elements in the first parameter from the second parameter list. If the
number is negative, the drop happens from the end. If the absolute
number exceeds the length, an empty response is returned.
</p>
</div>
</li>
<li><a id="org8313244"></a>Left Shoe<br />
<div class="outline-text-6" id="text-org8313244">
<p>
The Enclose (<code>⊂</code>) function, in its monadic form, encloses the given
object into a nested scalar.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8834;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;&#9075;<span style="color: #f5c791;">4</span>
&#9076;&#8834;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;&#9075;<span style="color: #f5c791;">4</span>
</pre>
</div>

<p>
In its dyadic form, it does a selective enclosing, returning the
enclosed objects:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span>&#8834;&#9075;<span style="color: #f5c791;">4</span>
</pre>
</div>
</div>
</li>
<li><a id="orgd2e5c6a"></a>Right Shoe<br />
<div class="outline-text-6" id="text-orgd2e5c6a">
<p>
The Disclose (<code>⊃</code>) function, in its monadic form, discloses the single
elements of an object, zero-filling the missing elements so that all
of them belong to a single shape, with the same number of dimensions.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8835;(&#9075;<span style="color: #f5c791;">4</span>) <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>
</pre>
</div>

<p>
In its dyadic form, it recursively picks up a certain element from a
nested structure.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">X &#8592; <span style="color: #f5c791;">4</span>&#9076;&#8834;(<span style="color: #f5c791;">4</span> <span style="color: #f5c791;">4</span>&#9076;<span style="color: #f5c791;">16</span>?<span style="color: #f5c791;">100</span>)   <span style="color: #454459;">&#9053; List of four enclosed 4x4 matrices</span>
<span style="color: #f5c791;">2</span> (<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>)&#8835;X             <span style="color: #454459;">&#9053; Pick 2nd matrix, then pick element [2;2]</span>
</pre>
</div>
</div>
</li>
<li><a id="org0f5b1eb"></a>Right Tack<br />
<div class="outline-text-6" id="text-org0f5b1eb">
<p>
The Right (<code>⊢</code>) function does nothing in its monadic form, giving back
the untouched data. Its dyadic form, however, selects the left
element. It has a particularly useful property of selecting the
rightmost element when mapped over a structure:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>&#8866;<span style="color: #f5c791;">4</span> <span style="color: #f5c791;">5</span>
&#8866;/ <span style="color: #f5c791;">6</span> <span style="color: #f5c791;">7</span> <span style="color: #f5c791;">8</span> <span style="color: #f5c791;">9</span>
</pre>
</div>
</div>
</li>
<li><a id="orgfbc5403"></a>Left Tack<br />
<div class="outline-text-6" id="text-orgfbc5403">
<p>
The Left (<code>⊣</code>) function works much like Right, except that it selects
the left element, or the leftmost element on a mapping:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>&#8867;<span style="color: #f5c791;">4</span> <span style="color: #f5c791;">5</span>
&#8867;/ <span style="color: #f5c791;">6</span> <span style="color: #f5c791;">7</span> <span style="color: #f5c791;">8</span> <span style="color: #f5c791;">9</span>
</pre>
</div>
</div>
</li>
</ul>
</li>
<li><a id="org51c7122"></a>Sorting and coding functions<br />
<div class="outline-text-5" id="text-org51c7122">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Monadic form</th>
<th scope="col" class="org-left">Dyadic form</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">⍋</td>
<td class="org-left">Grade up</td>
<td class="org-left">Collated grade up</td>
</tr>

<tr>
<td class="org-left">⍒</td>
<td class="org-left">Grade down</td>
<td class="org-left">Collated grade down</td>
</tr>

<tr>
<td class="org-left">⊥</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Decode</td>
</tr>

<tr>
<td class="org-left">⊤</td>
<td class="org-left">&#xa0;</td>
<td class="org-left">Encode</td>
</tr>
</tbody>
</table>
</div>
<ul class="org-ul">
<li><a id="org71ba2c1"></a>Grade Up<br />
<div class="outline-text-6" id="text-org71ba2c1">
<p>
The Grade Up (<code>⍋</code>) function, in its monadic form, returns the indexes of
elements in ascending order.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">LIST &#8592; <span style="color: #f5c791;">10</span>?<span style="color: #f5c791;">100</span>
LIST[&#9035;LIST]
</pre>
</div>

<p>
In its dyadic form, the first parameter is a collating sequence, which
enumerates top-priority elements for the ordering. Elements outside of
the collation are put in the end of the sequence.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TEXT &#8592; <span style="color: #f5c791;">'Banana'</span>
TEXT[<span style="color: #f5c791;">'an'</span>&#9035;TEXT]
</pre>
</div>
</div>
</li>
<li><a id="orgb866dc6"></a>Grade Down<br />
<div class="outline-text-6" id="text-orgb866dc6">
<p>
The Grade Down (<code>⍒</code>) function works just like Grade Up, except that it
returns indexes of elements in descending order.
</p>

<p>
On the dyadic form, the collating sequence enumerates elements which
shall be ordered from rightmost to leftmost. Elements outside of the
collation are put in the beginning of the sequence.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">LIST &#8592; <span style="color: #f5c791;">10</span>?<span style="color: #f5c791;">100</span>
TEXT &#8592; <span style="color: #f5c791;">'Banana'</span>

LIST[&#9042;LIST]
TEXT[<span style="color: #f5c791;">'an'</span>&#9042;TEXT]
</pre>
</div>
</div>
</li>
<li><a id="orgc8cfdf6"></a>Decode<br />
<div class="outline-text-6" id="text-orgc8cfdf6">
<p>
The Decode (<code>⊥</code>) function converts a number (expressed as a list) on the
second argument to the base shown in the first argument.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">2</span>&#8869;<span style="color: #f5c791;">0</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span>
<span style="color: #f5c791;">16</span>&#8869;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">1</span>
<span style="color: #f5c791;">24</span> <span style="color: #f5c791;">60</span> <span style="color: #f5c791;">60</span>&#8869;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">46</span> <span style="color: #f5c791;">40</span>  <span style="color: #454459;">&#9053; Time conversion! 2h46m40s into total seconds</span>
</pre>
</div>
</div>
</li>
<li><a id="org76d6d49"></a>Encode<br />
<div class="outline-text-6" id="text-org76d6d49">
<p>
The Encode (<code>⊤</code>) function does the opposite of Decode.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#8868;<span style="color: #f5c791;">5</span> <span style="color: #f5c791;">7</span> <span style="color: #f5c791;">12</span>
<span style="color: #f5c791;">24</span> <span style="color: #f5c791;">60</span> <span style="color: #f5c791;">60</span>&#8868;<span style="color: #f5c791;">10000</span>   <span style="color: #454459;">&#9053; Mixed radix; convert 10000 seconds to h m s</span>
</pre>
</div>
</div>
</li>
</ul>
</li>
<li><a id="org481e4e1"></a>Miscellaneous functions and other symbols<br />
<div class="outline-text-5" id="text-org481e4e1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">⎕</td>
<td class="org-left">Numeric input from keyboard (niladic)</td>
</tr>

<tr>
<td class="org-left">⍞</td>
<td class="org-left">Character input from keyboard (niladic)</td>
</tr>

<tr>
<td class="org-left">◊</td>
<td class="org-left">Stament separator</td>
</tr>

<tr>
<td class="org-left">⍝</td>
<td class="org-left">Comment</td>
</tr>

<tr>
<td class="org-left">⍎</td>
<td class="org-left">Evaluate text as APL expression (monadic)</td>
</tr>

<tr>
<td class="org-left">⍕</td>
<td class="org-left">Format (monadic/dyadic)</td>
</tr>

<tr>
<td class="org-left">⌷</td>
<td class="org-left">Index (dyadic)</td>
</tr>

<tr>
<td class="org-left">⍬</td>
<td class="org-left">Zilde</td>
</tr>
</tbody>
</table>
</div>
<ul class="org-ul">
<li><a id="orgac5a06a"></a>Diamond<br />
<div class="outline-text-6" id="text-orgac5a06a">
<p>
The statement separator (<code>◊</code>) allows for inputting more than one
statement in a single line.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">LIST &#8592; <span style="color: #f5c791;">25-</span>(<span style="color: #f5c791;">5</span>?<span style="color: #f5c791;">50</span>) &#9674; (&#247;LIST)
</pre>
</div>
</div>
</li>
<li><a id="orge480a15"></a>Hydrant<br />
<div class="outline-text-6" id="text-orge480a15">
<p>
The Execute operator (<code>⍎</code>) evaluates a textual expression as an APL
statement.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#9038;<span style="color: #f5c791;">'X &#8592; 10&#215;3 3&#9076;&#9075;9 &#9674; &#247;X'</span>
</pre>
</div>
</div>
</li>
<li><a id="org156b7d7"></a>Thorn<br />
<div class="outline-text-6" id="text-org156b7d7">
<p>
The Format operator (<code>⍕</code>) in its monadic form, transforms values into a
character list, suited to display onscreen.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#9045;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>
</pre>
</div>

<p>
Its dyadic form requires a format list as first argument, containing
the field width for each value and its number of decimal places. The
second argument is the values. If the field is not wide enough, it
gives a <code>DOMAIN ERROR</code>.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">6</span> <span style="color: #f5c791;">2</span>&#9045;<span style="color: #f5c791;">3</span>.<span style="color: #f5c791;">25</span> <span style="color: #f5c791;">3</span>.<span style="color: #f5c791;">002</span>
<span style="color: #454459;">&#9053; 8 2&#9045;1234   &#9053; Not wide enough</span>
</pre>
</div>
</div>
</li>
<li><a id="org423319d"></a>Squad<br />
<div class="outline-text-6" id="text-org423319d">
<p>
The Index operator (<code>⌷</code>) has only a dyadic form, where one can pick
elements at something. It also supports axis parameters.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>&#9076;&#9075;<span style="color: #f5c791;">12</span>

<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>&#9015;TABLE
<span style="color: #f5c791;">2</span>&#9015;[<span style="color: #f5c791;">1</span>] TABLE
<span style="color: #f5c791;">2</span>&#9015;[<span style="color: #f5c791;">2</span>] TABLE
</pre>
</div>
</div>
</li>
<li><a id="org33a9908"></a>Zilde<br />
<div class="outline-text-6" id="text-org33a9908">
<p>
The Empty Numeric Vector (<code>⍬</code>) is a vector of zero elements.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; These are a match, since they are numeric vectors.</span>
&#9068;&#8801;&#9075;<span style="color: #f5c791;">0</span>
&#9068;&#8801;<span style="color: #f5c791;">0</span>&#9076;<span style="color: #f5c791;">0</span>

<span style="color: #454459;">&#9053; These do not match.</span>
&#9068;&#8801;<span style="color: #f5c791;">0</span> <span style="color: #f5c791;">0</span>&#9076;<span style="color: #f5c791;">0</span>  <span style="color: #454459;">&#9053; Not a vector</span>
&#9068;&#8801;<span style="color: #f5c791;">''</span>     <span style="color: #454459;">&#9053; Not numeric</span>
</pre>
</div>
</div>
</li>
</ul>
</li>
</ul>
</div>
<div id="outline-container-orgcf52bcc" class="outline-4">
<h4 id="orgcf52bcc">System functions</h4>
<div class="outline-text-4" id="text-orgcf52bcc">
<p>
System functions exist to extend the power of APL, improving the
usable tasks.
</p>

<p>
See the implementation documentation for that.
</p>
</div>
</div>
</div>
<div id="outline-container-orge4dd06a" class="outline-3">
<h3 id="orge4dd06a">Built-in operators</h3>
<div class="outline-text-3" id="text-orge4dd06a">
<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Built-in Operators</span>
</pre>
</div>

<p>
Operators are used to specify the way in which one or more functions
are applied to data. For example: repeatedly, cumulatively, etc.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Operator</th>
<th scope="col" class="org-left">Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">/</td>
<td class="org-left">Slash</td>
</tr>

<tr>
<td class="org-left">⌿</td>
<td class="org-left">Slash bar</td>
</tr>

<tr>
<td class="org-left">\</td>
<td class="org-left">Backslash</td>
</tr>

<tr>
<td class="org-left">⍀</td>
<td class="org-left">Backslash bar</td>
</tr>

<tr>
<td class="org-left">.</td>
<td class="org-left">Inner product</td>
</tr>

<tr>
<td class="org-left">∘.</td>
<td class="org-left">Outer product</td>
</tr>

<tr>
<td class="org-left">¨</td>
<td class="org-left">Each</td>
</tr>

<tr>
<td class="org-left">[ ]</td>
<td class="org-left">Axis</td>
</tr>

<tr>
<td class="org-left">⍨</td>
<td class="org-left">Duplicate/Commute</td>
</tr>

<tr>
<td class="org-left">∘</td>
<td class="org-left">Compose</td>
</tr>
</tbody>
</table>
</div>
<div id="outline-container-orgbd830fa" class="outline-4">
<h4 id="orgbd830fa">Reduce and scan</h4>
<div class="outline-text-4" id="text-orgbd830fa">
<p>
When used with functions as their operands, Slash and Backslash become
Reduce (<code>/</code>) and Scan (<code>\</code>), which apply a single function to all elements
of an argument.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; These two operations are equivalent</span>
<span style="color: #f5c791;">22</span> + <span style="color: #f5c791;">93</span> + <span style="color: #f5c791;">4</span>.<span style="color: #f5c791;">6</span> + <span style="color: #f5c791;">10</span> + <span style="color: #f5c791;">3</span>.<span style="color: #f5c791;">3</span>
+/22 <span style="color: #f5c791;">93</span> <span style="color: #f5c791;">4</span>.<span style="color: #f5c791;">6</span> <span style="color: #f5c791;">10</span> <span style="color: #f5c791;">3</span>.<span style="color: #f5c791;">3</span>        <span style="color: #454459;">&#9053; Reduce using plus</span>
</pre>
</div>

<p>
In the last example, Reduce interposes the <code>+</code> between the values on the
vector. Were it replaced by the Scan operator, the same would happen,
but the result would be a vector containing intermediate results; the
last element of such vector would be the last result.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">+\<span style="color: #f5c791;">22</span> <span style="color: #f5c791;">93</span> <span style="color: #f5c791;">4</span>.<span style="color: #f5c791;">6</span> <span style="color: #f5c791;">10</span> <span style="color: #f5c791;">3</span>.<span style="color: #f5c791;">3</span>        <span style="color: #454459;">&#9053; Scan using plus</span>
<span style="color: #f5c791;">22</span> (<span style="color: #f5c791;">22+93</span>) (<span style="color: #f5c791;">115+4</span>.<span style="color: #f5c791;">6</span>) (<span style="color: #f5c791;">119</span>.<span style="color: #f5c791;">6+10</span>) (<span style="color: #f5c791;">129</span>.<span style="color: #f5c791;">6+3</span>.<span style="color: #f5c791;">3</span>) <span style="color: #454459;">&#9053; Equivalent calculation</span>
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="orgb18817a"></a>Reduce First and Scan First<br />
<div class="outline-text-5" id="text-orgb18817a">
<p>
Using a Slash bar with a function means using the Reduce First (<code>⌿</code>)
operator. This will apply a reduction on the first dimension of the
data structure:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">5</span>&#9076;<span style="color: #f5c791;">15</span>?<span style="color: #f5c791;">30</span>
+&#9023; TABLE
</pre>
</div>

<p>
Using a Backslash bar with a function means using the Scan First (<code>⍀</code>)
operator. This does something similar to Scan, but stores each result
in a matrix row (first dimension).
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">+&#9024; TABLE
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org05a3a65" class="outline-4">
<h4 id="org05a3a65">Compress and expand</h4>
<div class="outline-text-4" id="text-org05a3a65">
<p>
When used with one or more <b>numbers</b>, Slash and Backslash become
Compression (<code>/</code>) and Expansion (<code>\</code>).
</p>

<p>
Compress selects a part of an object:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span> / <span style="color: #f5c791;">'ABCDEF'</span>
</pre>
</div>

<p>
Expand inserts fill data into objects:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE &#8592; <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>&#9076;&#9075;<span style="color: #f5c791;">6</span>
<span style="color: #454459;">&#9053; Insert new columns (axis 2).</span>
<span style="color: #454459;">&#9053; New columns indicated by zeroes.</span>
<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span>\[<span style="color: #f5c791;">2</span>]TABLE
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="orgb8dc025"></a>Compress First and Expand First<br />
<div class="outline-text-5" id="text-orgb8dc025">
<p>
The Compress First (<code>⌿</code>) operator, also known as Replicate First, is the
dyadic form of the Slash Bar, and can be used in a matrix to remove
and duplicate certain rows (first dimension):
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>&#9076;&#9075;<span style="color: #f5c791;">12</span>
<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">2</span>&#9023;TABLE      <span style="color: #454459;">&#9053; Remove 2nd row, duplicate 3rd row</span>
</pre>
</div>

<p>
The Expand First (<code>⍀</code>) operator is the dyadic version of the Backslash
bar, and also works by adding new rows (first dimension) to a matrix.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE &#8592; <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>&#9076;&#9075;<span style="color: #f5c791;">12</span>
<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">0</span>&#9024;TABLE
</pre>
</div>
</div>
</li>
</ul>
</div>
<div id="outline-container-org1ad655d" class="outline-4">
<h4 id="org1ad655d">Outer and inner products</h4>
<div class="outline-text-4" id="text-org1ad655d">
<p>
Product operators distribute the application of a function between
each element of one argument and all elements in another; this removes
the constraint on applying certain functions to arguments of same
shape.
</p>
</div>
<ul class="org-ul">
<li><a id="org73e3a6f"></a>Outer Product<br />
<div class="outline-text-5" id="text-org73e3a6f">
<p>
The outer product (<code>∘.</code>)gives the result of applying the function to all
combinations of elements in both arguments:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>&#8728;.+4 <span style="color: #f5c791;">5</span> <span style="color: #f5c791;">6</span>
</pre>
</div>

<p>
The result is a 3×3 matrix, where the first column is the sum between
<code>1</code> and each of the numbers in the second argument; the second column is
the sum between <code>2</code> and each of the numbers in the second argument; and
so on.
</p>

<p>
Another example: a matrix of powers.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">(&#9075;<span style="color: #f5c791;">4</span>)&#8728;.*&#9075;<span style="color: #f5c791;">4</span>
</pre>
</div>
</div>
</li>
<li><a id="org712db55"></a>Inner Product<br />
<div class="outline-text-5" id="text-org712db55">
<p>
The inner product (<code>.</code>) allows two functions to be applied to arguments;
operations happen between the <b>last</b> dimension of the <b>left</b> argument, and
the <b>first</b> dimension of the <b>right</b> argument; so the two inner dimensions
are used.
</p>

<p>
Using this on matrices results in two steps:
</p>
<ol class="org-ol">
<li>Each <b>row</b> of the <b>left</b> argument is applied to each <b>column</b> of the
<b>right</b> argument. This uses the rightmost function;</li>
<li>The leftmost function is applied to the result, through a Reduction
(<code>/</code>).</li>
</ol>

<div class="org-src-container">
<pre class="src src-gnu-apl">X&#8592;<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;<span style="color: #f5c791;">9</span>?<span style="color: #f5c791;">100</span>
Y&#8592;<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">3</span>&#9076;<span style="color: #f5c791;">9</span>?<span style="color: #f5c791;">100</span>

<span style="color: #454459;">&#9053; 1. Each row of X is multiplied by each column of Y;</span>
<span style="color: #454459;">&#9053; 2. The result is reduced through a sum.</span>
X+.&#215;Y
</pre>
</div>

<p>
There are up to 400 possible inner products. Some uses are:
</p>
<ul class="org-ul">
<li>Locating incidences of given character strings within textual data;</li>
<li>Evaluation of polynomials;</li>
<li>Matrix multiplication;</li>
<li>Product of powers;</li>
<li>Etc.</li>
</ul>
</div>
</li>
</ul>
</div>
<div id="outline-container-org8fdbd33" class="outline-4">
<h4 id="org8fdbd33">Each</h4>
<div class="outline-text-4" id="text-org8fdbd33">
<p>
The Each operator (<code>¨</code>) allows applying a certain function (on the left)
to each elements of an array or vector (on the right).
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#9076;&#168;(&#9075;<span style="color: #f5c791;">3</span>)(&#9075;<span style="color: #f5c791;">2</span>)(&#9075;<span style="color: #f5c791;">5</span>)   <span style="color: #454459;">&#9053; Find the length of each vector</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org84890a0" class="outline-4">
<h4 id="org84890a0">Axis</h4>
<div class="outline-text-4" id="text-org84890a0">
<p>
Some functions operate in data which has more than one dimension. One
can change the axis in which they operate by using the axis operator.
</p>

<p>
By default, APL functions work on the <b>last</b> dimension of your data. The
order of dimensions is the one show when you apply <code>⍴</code> to the data.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE &#8592; <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>&#9076;&#9075;<span style="color: #f5c791;">6</span>  <span style="color: #454459;">&#9053; A matrix of 2&#215;3 (two dimensions)</span>

<span style="color: #454459;">&#9053; Reduce with + on the second dimension. This gives a</span>
<span style="color: #454459;">&#9053; list of two numbers, each being the sum of numbers</span>
<span style="color: #454459;">&#9053; along the COLUMNS (dimension 2, last one) of each</span>
<span style="color: #454459;">&#9053; row of the matrix.</span>
+/TABLE

<span style="color: #454459;">&#9053; This reduction specifies that the sum should occur</span>
<span style="color: #454459;">&#9053; along the ROWS (dimension 1) of a column of the</span>
<span style="color: #454459;">&#9053; matrix, therefore it gives a list of three numbers.</span>
+/[<span style="color: #f5c791;">1</span>]TABLE
</pre>
</div>
</div>
<ul class="org-ul">
<li><a id="orgde6d829"></a>Functions that accept axis specifications<br />
<div class="outline-text-5" id="text-orgde6d829">
<p>
here are some built-in functions and operators that accept specifying
axes:
</p>

<ul class="org-ul">
<li>Functions
<ul class="org-ul">
<li><code>↑</code> (First, Take)</li>
<li><code>↓</code> (Drop)</li>
<li><code>⊂</code> (Enclose, Partition)</li>
<li><code>⊃</code> (Disclose, Pick)</li>
<li><code>,</code> (Ravel, Catenate)</li>
<li><code>⌽</code>, <code>⊖</code> (Reversal, Rotation)</li>
</ul></li>

<li>Operators
<ul class="org-ul">
<li><code>/</code> (Reduce, Compress)</li>
<li><code>\</code> (Scan, Expand)</li>
<li><code>⌿</code> (Reduce First, Compress First)</li>
<li><code>⍀</code> (Scan First, Compress First)</li>
</ul></li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div id="outline-container-orgd4fd231" class="outline-3">
<h3 id="orgd4fd231">User-defined Functions</h3>
<div class="outline-text-3" id="text-orgd4fd231">
<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; User-defined functions</span>
</pre>
</div>
</div>
<div id="outline-container-orgf947c09" class="outline-4">
<h4 id="orgf947c09">Arguments and results</h4>
<div class="outline-text-4" id="text-orgf947c09">
<p>
Functions can be thought of as external programs which are run. They
can be:
</p>

<ul class="org-ul">
<li><b>Niladic</b>: They have no specified arguments.</li>
<li><b>Monadic</b>: Functions have one argument, passed at its right.</li>
<li><b>Dyadic</b>:  Functions have two arguments, the first is passed at its
left and the second is passed at its right.</li>
</ul>

<p>
Passing many values as an argument is enclosed into a single vector of
arguments.
</p>

<p>
Definining a function that is both <b>monadic</b> and <b>dyadic</b> require testing
the first and second arguments to dispatch based on it.
</p>

<p>
If you need to express a result, you will also need to give a name for
the result field.
</p>
</div>
</div>
<div id="outline-container-orge94dfe7" class="outline-4">
<h4 id="orge94dfe7">User-defined operators</h4>
<div class="outline-text-4" id="text-orge94dfe7">
<p>
Operators must have one or two <b>operands</b>, which are functions; not more
nor less, since operators are used to modify the behaviour of
functions.
</p>
</div>
</div>
<div id="outline-container-org7244dbf" class="outline-4">
<h4 id="org7244dbf">Editing functions</h4>
<div class="outline-text-4" id="text-org7244dbf">
<p>
Some APLs allow you to edit a function by using the <code>)EDIT</code> command or
the <code>⎕EDIT</code> system function. This is the case for Dyalog, for example &#x2013;
however, Dyalog uses the <code>)ED</code> command instead.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)ED FUNK
</pre>
</div>

<p>
Older APL systems, like GNU APL, allows editing one-line-at-time,
using the Del (<code>∇</code>) editor. However, the <code>gnu-apl-mode</code> for Emacs replaces
the use of Del by opening a new temporary buffer to edit the function.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;<span style="color: #0bc9cf;">FUNK</span>
</pre>
</div>

<p>
APL uses the concept of workspaces to store functions and values,
however one can safely use the Del (<code>∇</code>) notation to define a certain
function in an APL code file:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;<span style="color: #0bc9cf;">FUNK</span>
  <span style="color: #454459;">&#9053; Add some code here...</span>
&#8711;
</pre>
</div>

<p>
The rest of this text will use the Del editor notation, in a way which
it can be executed in a GNU APL script, therefore some things will be
different e.g. line numbers will not be used here.
</p>
</div>
</div>
<div id="outline-container-orgff2f092" class="outline-4">
<h4 id="orgff2f092">The function header</h4>
<div class="outline-text-4" id="text-orgff2f092">
<p>
When typing the function, one must type a suitable function header,
for example:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;<span style="color: #0bc9cf;">SD</span> X
  SUM &#8592; +/X
  AVG &#8592; SUM&#247;&#9076;X
  DIFF &#8592; AVG-X
  SQDIFF &#8592; DIFF&#8902;<span style="color: #f5c791;">2</span>
  SQAVG &#8592; (+/SQDIFF)&#247;&#9076;SQDIFF
  RESULT &#8592; SQAVG&#8902;<span style="color: #f5c791;">0</span>.<span style="color: #f5c791;">5</span>
&#8711;
</pre>
</div>

<p>
This function takes a vector called <code>X</code> and performs some computation
using it.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">SD <span style="color: #f5c791;">12</span> <span style="color: #f5c791;">45</span> <span style="color: #f5c791;">20</span> <span style="color: #f5c791;">68</span> <span style="color: #f5c791;">92</span> <span style="color: #f5c791;">108</span>
</pre>
</div>

<p>
The result exists in the global variable <code>RESULT</code>, created inside the
function.
</p>

<p>
If we were defining a function with two operators, we would have a
header such as:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;X <span style="color: #0bc9cf;">CALC</span> Y
</pre>
</div>

<p>
And if we wanted the result to be put in a specific variable, see how
we could redefine <code>SD</code>:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;R &#8592; <span style="color: #0bc9cf;">SD</span> X
  SUM &#8592; +/X
  AVG &#8592; SUM&#247;&#9076;X
  DIFF &#8592; AVG-X
  SQDIFF &#8592; DIFF&#8902;<span style="color: #f5c791;">2</span>
  SQAVG &#8592; (+/SQDIFF)&#247;&#9076;SQDIFF
  R &#8592; SQAVG&#8902;<span style="color: #f5c791;">0</span>.<span style="color: #f5c791;">5</span>
&#8711;
</pre>
</div>

<p>
By doing this, the result of applying <code>SD</code> to something could be
assigned to a variable; <code>R</code> itself is not a variable which is visible
outside of <code>SD</code>, acting as a surrogate for the final result of
execution.
</p>
</div>
</div>
<div id="outline-container-org75ebee7" class="outline-4">
<h4 id="org75ebee7">The operator header</h4>
<div class="outline-text-4" id="text-org75ebee7">
<p>
Operator bodies are defined just like functions'; what changes is the
header, which must specify an operator.
</p>

<p>
Here is the header of a monadic operator:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;R &#8592; X (LOP <span style="color: #0bc9cf;">OPERATE</span>) Y
</pre>
</div>

<p>
And the header of a dyadic operator:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;R &#8592; X (LOP <span style="color: #0bc9cf;">OPERATE</span> ROP) Y
</pre>
</div>

<ul class="org-ul">
<li><code>OPERATE</code> is the operator name;</li>
<li><code>R</code> is the optional return variable;</li>
<li><code>X</code> and <code>Y</code> are left and right parameters for the operator;</li>
<li><code>LOP</code> is an obligatory left operand, which the operator will change
the behaviour of;</li>
<li><code>ROP</code> is an optional right operand, which the operator will also
change the behaviour of.</li>
</ul>
</div>
</div>
<div id="outline-container-orgd80340a" class="outline-4">
<h4 id="orgd80340a">Local and global variables</h4>
<div class="outline-text-4" id="text-orgd80340a">
<p>
One can quote variables in the header to make sure they are <b>local</b> to
the function; by not doing so, they will remain <b>global</b>. Also notice
that local variables are not shared with variables called inside the
function body.
</p>

<p>
So let's fix <code>SD</code>.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">)CLEAR   <span style="color: #454459;">&#9053; Clear the workspace</span>

&#8711;R &#8592; <span style="color: #0bc9cf;">SD</span> X;SUM;AVG;DIFF;SQDIFF;SQAVG
  SUM &#8592; +/X
  AVG &#8592; SUM&#247;&#9076;X
  DIFF &#8592; AVG-X
  SQDIFF &#8592; DIFF&#8902;<span style="color: #f5c791;">2</span>
  SQAVG &#8592; (+/SQDIFF)&#247;&#9076;SQDIFF
  R &#8592; SQAVG&#8902;<span style="color: #f5c791;">0</span>.<span style="color: #f5c791;">5</span>
&#8711;
</pre>
</div>

<p>
But the header is so big, that's not good. Let's try making this a
little more compact so we have fewer local variables.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;R &#8592; <span style="color: #0bc9cf;">SD</span> X;SQDIFF
  SQDIFF &#8592; (X-(+/X)&#247;&#9076;X)&#8902;<span style="color: #f5c791;">2</span>
  R &#8592; ((+/SQDIFF)&#247;&#9076;SQDIFF)&#8902;<span style="color: #f5c791;">0</span>.<span style="color: #f5c791;">5</span>
&#8711;
</pre>
</div>
</div>
</div>
<div id="outline-container-orgb711834" class="outline-4">
<h4 id="orgb711834">Branching</h4>
<div class="outline-text-4" id="text-orgb711834">
<p>
Inside the body of a function or operator, the symbol Goto (<code>→)</code> is used
to determine a jump. The symbol should then be followed by some data;
if the data is a scalar, the function jumps to the given line. If it
is a vector, the function jumps to the first element of the vector and
ignores the rest of it.
</p>

<p>
Here is an example of that in action, with numbering on the body for
better understanding.
</p>

<pre class="example" id="org00378f3">
    ∇R←TEST X
[1]  →(X≥0)/4
[2]  R←0
[3]  →5
[4]  R←1
    ∇
</pre>

<p>
The function starts by testing whether <code>X</code> is greater or equal to
zero. If so, the result is <code>1</code>, therefore the Compress (<code>/</code>) operator
selects the sole number at the right, which is <code>4</code>. The <code>→</code> symbol then
instructs the function to jump to the line &#x2013; that is, the fourth one.
</p>

<p>
Line <code>[2]</code> puts a <code>0</code> on the result variable. Then line <code>[3]</code> instructs the
program to make an unconditional jump to the line <code>5</code>, which does not
exist &#x2013; thus ending the function.
</p>

<p>
Line <code>[4]</code> attributes the number <code>1</code> to the result variable, and then
exits gracefully, as there are no more jumps.
</p>
</div>
<ul class="org-ul">
<li><a id="orga0d45ec"></a>Looping<br />
<div class="outline-text-5" id="text-orga0d45ec">
<p>
One can also perform loops very easily by using the Goto symbol
(<code>→</code>). For example, consider the following function.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Calculate factorial of a scalar N.</span>
<span style="color: #454459;">&#9053; Has a return variable and a local scalar I.</span>
&#8711;R&#8592;<span style="color: #0bc9cf;">FACTORIAL</span> N;I
  &#8594;(N&#8804;<span style="color: #f5c791;">0</span>)/0       <span style="color: #454459;">&#9053; 1: If N is lower or eq to 0, end function</span>
  I&#8592;<span style="color: #f5c791;">1</span>            <span style="color: #454459;">&#9053; 2: Initialize iterator to 1</span>
  R&#8592;<span style="color: #f5c791;">1</span>            <span style="color: #454459;">&#9053; 3: Initialize result to 1</span>
  R&#8592;R&#215;I          <span style="color: #454459;">&#9053; 4: Let result be the mult. of result and iter</span>
  &#8594;(I=N)/0       <span style="color: #454459;">&#9053; 5: If iterator is equal to N, end function</span>
  I&#8592;I+1          <span style="color: #454459;">&#9053; 6: Increment iterator</span>
  &#8594;<span style="color: #f5c791;">4</span>             <span style="color: #454459;">&#9053; 7: Jump to multiplication</span>
&#8711;
</pre>
</div>

<p>
Jumping to <code>0</code> will be explained below; it ends the function.
</p>
</div>
</li>
<li><a id="org212bdbb"></a>Labels<br />
<div class="outline-text-5" id="text-org212bdbb">
<p>
It is not necessary to count lines on most modern APLs. We can just
use labels. This is also useful when adding lines and whatnot.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;R &#8592; <span style="color: #0bc9cf;">TEST</span> X
  &#8594;(X&#8805;<span style="color: #f5c791;">0</span>)/GREATEQ
  R&#8592;<span style="color: #f5c791;">0</span>
  &#8594;<span style="color: #f5c791;">0</span>
<span style="color: #9d81ba;">GREATEQ:</span> R&#8592;<span style="color: #f5c791;">1</span>
&#8711;
</pre>
</div>

<p>
Here is the factorial function, rewritten using labels:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;R&#8592;<span style="color: #0bc9cf;">FACTORIAL</span> N;I
  &#8594;(N&#8804;<span style="color: #f5c791;">0</span>)/0
  (I R)&#8592;<span style="color: #f5c791;">1</span>       <span style="color: #454459;">&#9053; Multiple definition at once</span>
<span style="color: #9d81ba;">  LOOP:</span> R&#8592;R&#215;I
  &#8594;(I=N)/0
  I&#8592;I+1
  &#8594;LOOP
&#8711;
</pre>
</div>
</div>
</li>
<li><a id="orgba22d85"></a>Ending execution of a function<br />
<div class="outline-text-5" id="text-orgba22d85">
<p>
A function stops naturally when the last line of its body is
executed. However, one can go to a line number which doesn't exist to
end the function immediately. For example:
</p>

<pre class="example" id="org5395b0d">
→(X&lt;1)/0
→0
→7  ⍝ Suppose this line is in a function with six lines
</pre>
</div>
</li>
<li><a id="org94e53c8"></a>Structured control keywords<br />
<div class="outline-text-5" id="text-org94e53c8">
<p>
Some APLs support <i>structured-control keywords</i> for flow control. This
makes APL more readable. (GNU APL, however, does not support them)
</p>

<p>
Here is a table of keywords. These keywords are not part of the APL
ISO, but they are supported in many implementations.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Function</th>
<th scope="col" class="org-left">Keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Conditional execution</td>
<td class="org-left"><code>:If</code>, <code>:ElseIf</code>, <code>:Else</code>, <code>:EndIf</code></td>
</tr>

<tr>
<td class="org-left">For loop</td>
<td class="org-left"><code>:For</code>, <code>:EndFor</code></td>
</tr>

<tr>
<td class="org-left">While loop</td>
<td class="org-left"><code>:While</code>, <code>:EndWhile</code></td>
</tr>

<tr>
<td class="org-left">Repeat loop</td>
<td class="org-left"><code>:Repeat</code>, <code>:EndRepeat</code></td>
</tr>

<tr>
<td class="org-left">Case selection</td>
<td class="org-left"><code>:Select</code>, <code>:Case</code>, <code>:CaseList</code>, <code>:Else</code>, <code>:EndSelect</code></td>
</tr>

<tr>
<td class="org-left">Branch</td>
<td class="org-left"><code>:GoTo</code></td>
</tr>

<tr>
<td class="org-left">Terminate function</td>
<td class="org-left"><code>:Return</code> (same as <code>→0</code>)</td>
</tr>
</tbody>
</table>
</div>
</li>
<li><a id="org480c679"></a>Comments in functions<br />
<div class="outline-text-5" id="text-org480c679">
<p>
Just use the Lamp (<code>⍝</code>) symbol.
</p>
</div>
</li>
<li><a id="org55cb6f9"></a>Ambivalent Functions<br />
<div class="outline-text-5" id="text-org55cb6f9">
<p>
In APL2, dyadic functions may be used monodically. This happens when
the left argument is undefined. This means that its Name
Classification (<code>⎕NC</code>) is <code>0</code>. This can be compared:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8711;R&#8592;A <span style="color: #0bc9cf;">AMBIVALENT</span> B
  &#8594;(<span style="color: #f5c791;">0</span>=<span style="color: #9d81ba;">&#9109;NC</span> <span style="color: #f5c791;">'A'</span>)/MONADIC
  &#8594;DYADIC
<span style="color: #9d81ba;">MONADIC:</span> A&#8592;<span style="color: #f5c791;">5</span>
<span style="color: #9d81ba;">DYADIC:</span> R&#8592;A+B
&#8711;

<span style="color: #f5c791;">1</span> AMBIVALENT <span style="color: #f5c791;">2</span>  <span style="color: #454459;">&#9053; Dyadic usage; yields 3</span>
AMBIVALENT <span style="color: #f5c791;">2</span>    <span style="color: #454459;">&#9053; Monadic usage; yields 7</span>
</pre>
</div>

<p>
Some APLs like NARS2000 and Dyalog use a particular syntax which
distinguishes ambivalent and dyadic functions. See these function
headers:
</p>

<pre class="example" id="org58ac4ec">
∇R←A NOMADIC B    ⍝ Dyadic     ∇
∇R←{A} NOMADIB B  ⍝ Ambivalent ∇
</pre>
</div>
</li>
</ul>
</div>
<div id="outline-container-org3d313a4" class="outline-4">
<h4 id="org3d313a4">Extra: Lambdas</h4>
<div class="outline-text-4" id="text-org3d313a4">
<p>
GNU APL has limited support for lambda expressions. Those are
functions which are defined inline, and can even be named.
</p>

<p>
In lambdas, Alpha (<code>⍺</code>) is the symbol used for the left argument, and
Omega (<code>⍵</code>) is the symbol used for the right argument. All lambdas are
one-line functions, enclosed in Curly Brackets (<code>{}</code>), which can be
monadic or dyadic depending on argument usage, and their single line
always return a value.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">AVERAGE &#8592; {(+/&#9077;)&#247;&#9076;&#9077;}   <span style="color: #454459;">&#9053; Named lambda</span>
<span style="color: #f5c791;">2</span> {&#9082;+&#9077;} <span style="color: #f5c791;">3</span>              <span style="color: #454459;">&#9053; Unnamed lambda, applied immediately</span>
</pre>
</div>

<p>
Here is an example lambda function which finds all the prime numbers
below the second argument (<code>⍵</code>) of the monadic function <i>(ACHARYA and
PEREIRA)</i>:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">PRIMES &#8592; {(~&#9077;&#8714;&#9077;&#8728;.&#215;&#9077;)/&#9077;&#8592;<span style="color: #f5c791;">1</span>&#8595;&#9075;&#9077;}
PRIMES <span style="color: #f5c791;">100</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgab4b107" class="outline-3">
<h3 id="orgab4b107">Error Handling</h3>
<div class="outline-text-3" id="text-orgab4b107">
<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Error handling</span>
</pre>
</div>
</div>
<div id="outline-container-org695144f" class="outline-4">
<h4 id="org695144f">Errors in calculator mode</h4>
<div class="outline-text-4" id="text-org695144f">
<p>
APL prints errors when you type a statement containing an error in
calculator mode. For example, this yields a <code>DOMAIN ERROR</code>:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">1</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">'a'</span>&#8744;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">0</span>
</pre>
</div>

<p>
To correct an error in calculator mode, simply retype the statement
correctly, or use the the implementation's line-editing facilities.
</p>
</div>
</div>
<div id="outline-container-org468189f" class="outline-4">
<h4 id="org468189f">Errors in user-defined functions or operators</h4>
<div class="outline-text-4" id="text-org468189f">
<p>
When executing a user-defined function or operator, if an error
happens, the execution stops at that point. Modern APLs have a Debug
window where you can examine and correct errors in the function or
operator.
</p>
</div>
</div>
<div id="outline-container-orgae6bf57" class="outline-4">
<h4 id="orgae6bf57">The state indicator</h4>
<div class="outline-text-4" id="text-orgae6bf57">
<p>
When the halted function was called by other function, one can inspect
the call stack using the State Indicator. This can be done with the
system function <code>)SI</code> or, in some APLs, by inspecting the variable <code>⎕SI</code>.
</p>

<p>
Here is an example taken from implementation APLX (deprecated):
</p>

<pre class="example" id="org477b713">
      )SI
C[2] *
B[8]
A[5]
</pre>

<p>
In the example above, the problem happened at function <code>C</code>, at line
<code>2</code>. This function was called by function <code>B</code> at line <code>8</code>, which was then
called by function <code>A</code> on line <code>5</code>.
</p>

<p>
The asterisk means that the execution of line <code>2</code> of function <code>C</code> is still
pending. If another function were executed at this point and also
yielded an error, this would happen:
</p>

<pre class="example" id="org8db7673">
E[3] *
D[6]
C[2] *
B[8]
A[5]
</pre>

<p>
So now function <code>E</code> at line <code>3</code> is pendent, and was called from function <code>D</code>
at line <code>6</code>.
</p>

<p>
This top level can be cleared by using the Goto symbol (<code>→</code>). Another
<code>→</code>, in this case, would clear the State Indicator completely.
</p>

<pre class="example" id="orgea3baa4">
      →
      )SI
C[2] *
B[8]
A[5]
</pre>

<p>
There are also system functions to clear the State Indicator. In GNU
APL, this can be done with <code>)RESET</code>.
</p>
</div>
</div>
<div id="outline-container-org3f737b8" class="outline-4">
<h4 id="org3f737b8">Action after suspended execution</h4>
<div class="outline-text-4" id="text-org3f737b8">
<p>
One can resume the suspended execution where it stopped. To do so,
just type Goto (<code>→</code>) followed by the line number.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8594;<span style="color: #f5c791;">3</span>   <span style="color: #454459;">&#9053; Suppose execution halted at line 3 of the function</span>
</pre>
</div>

<p>
It is not mandatory to continue execution where the function
halted. For example, suppose you want to restart at the next line:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8594;<span style="color: #f5c791;">4</span>
</pre>
</div>

<p>
Another way to do this is by using the niladic system function
<code>⎕LC</code>. This yields a vector containing all current line numbers of
functions in the State Indicator. All we need to do is to jump to the
first number of such vector:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8594;&#9015;LC
</pre>
</div>

<p>
Or, if we want to resume at the next line, we can also exploit the
vector:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#8594;<span style="color: #f5c791;">1+</span><span style="color: #9d81ba;">&#9109;LC</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-org0cded9e" class="outline-4">
<h4 id="org0cded9e">Error trapping and tracing</h4>
<div class="outline-text-4" id="text-org0cded9e">
<p>
It is possible to specify in advance what to do if an error occurs on
execution; APL allows error trapping at runtime.
</p>

<ul class="org-ul">
<li>Dyalog has the keywords <code>:Trap</code>, <code>:EndTrap</code>, <code>:Case</code> and <code>:Else</code>, and the
system variable <code>⎕TRAP</code> which allows precise control;</li>
<li>APL2 has the system variables <code>⎕EA</code> (Execute Alternate; executes the
right argument and, if it fails, executes the left one) and <code>⌷EC</code>
(Execute Controlled; Executes the argument and returns the result,
if any. Also returns additional information on errors).</li>
<li>APL+Win has the keywords <code>:Try</code>, <code>:Catch</code> and <code>:Finally</code>; and the <code>⎕ELX</code>
system variable executes the argument passed on its right, whenever
an error occurs.</li>
<li>NARS2000 has <code>⎕ELX</code> like APL+Win, and <code>⎕EA</code> and <code>⌷EC</code>, like APL2.</li>
</ul>

<p>
It seems like GNU APL does not have error trapping facilities.
</p>
</div>
</div>
</div>
<div id="outline-container-org47bfc5e" class="outline-3">
<h3 id="org47bfc5e">Formatting</h3>
<div class="outline-text-3" id="text-org47bfc5e">
<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Formatting</span>
</pre>
</div>
</div>
<div id="outline-container-org8a5dfbb" class="outline-4">
<h4 id="org8a5dfbb">The "Format" primitive</h4>
<div class="outline-text-4" id="text-org8a5dfbb">
<p>
Useful variable: <code>⎕PP</code> (Print Precision).
</p>

<p>
When the left argument is not specified, the data is converted into
plain text with no specific format, using only display defaults.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">&#9045; <span style="color: #f5c791;">0</span>.<span style="color: #f5c791;">0000003</span> <span style="color: #f5c791;">3</span>.<span style="color: #f5c791;">0123456789</span>
</pre>
</div>

<p>
With two arguments, the left argument is always a list of two
elements: Field width and number of decimal places.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">6</span> <span style="color: #f5c791;">2</span>&#9045;<span style="color: #f5c791;">341</span>.<span style="color: #f5c791;">82921</span>
</pre>
</div>

<p>
Note that, before the number was truncated, it was rounded.
</p>
</div>
</div>
<div id="outline-container-orgd7060a8" class="outline-4">
<h4 id="orgd7060a8">The system function <code>⎕FMT</code></h4>
<div class="outline-text-4" id="text-orgd7060a8">
<p>
Some APL implementations (except APL2 and GNU APL) have a <code>⎕FMT</code> system
function:
</p>

<pre class="example" id="org2f64268">
    'B K2 G&lt; ZZ9 DOLLARS AND 99 CENTS&gt;' ⎕FMT 8.23 12.86 0 2.52
 8 DOLLARS AND 23 CENTS
12 DOLLARS AND 86 CENTS
 2 DOLLARS AND 52 CENTS
</pre>
</div>
</div>
</div>
<div id="outline-container-org920be5c" class="outline-3">
<h3 id="org920be5c">End of Tutorial</h3>
<div class="outline-text-3" id="text-org920be5c">
<div class="org-src-container">
<pre class="src src-gnu-apl">)CLEAR
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org2d6a1e4" class="outline-2">
<h2 id="org2d6a1e4">Further Topics in APL</h2>
<div class="outline-text-2" id="text-org2d6a1e4">
<p>
These are very useful topics which I will only take some notes on new
things I find interesting. <a href="https://aplwiki.com/LearnMoreApl/FurtherTopics">Here is the link</a> to the relevant contents.
</p>

<p>
It is also useful to check the <a href="https://www.gnu.org/software/apl/apl.html">GNU APL Manual</a> 
</p>
</div>
<div id="outline-container-org9618027" class="outline-3">
<h3 id="org9618027">Displaying the Shape of an Array</h3>
<div class="outline-text-3" id="text-org9618027">
<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053;&#9053;&#9053; Further Topics in APL</span>

<span style="color: #454459;">&#9053; Displaying the shape of an array</span>
</pre>
</div>

<p>
Most APLS have a <code>DISPLAY</code> or <code>⎕DISPLAY</code> system function to draw boxes
around data. GNU APL uses <code>⎕CR</code> for that. For example:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>&#9076;<span style="color: #f5c791;">12</span>?<span style="color: #f5c791;">50</span>

<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">1</span> (&#9075;<span style="color: #f5c791;">2</span>) <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span> <span style="color: #f5c791;">5</span>

<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">'A'</span> (<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>) (<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">5</span>&#9076;<span style="color: #f5c791;">'HELLOWORLD'</span>)
</pre>
</div>

<p>
Results are better seen with GNU FreeFont:
</p>

<pre class="example" id="orgab5e33c">
┌→──────────┐
↓40 26 30 24│
│50 35 31 47│
│43 45 38 11│
└───────────┘

┌→────────────┐
│1 ┌→──┐ 3 4 5│
│  │1 2│      │
│  └───┘      │
└∊────────────┘

┌→────────────────┐
│1 A ┌→──┐ ┌→────┐│
│    │2 3│ ↓HELLO││
│    └───┘ │WORLD││
│          └─────┘│
└∊────────────────┘
</pre>

<p>
Meaning of symbols used when drawing boxes:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Sym</th>
<th scope="col" class="org-left">Placement</th>
<th scope="col" class="org-left">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">-</td>
<td class="org-left">Beneath character</td>
<td class="org-left">Scalar character</td>
</tr>

<tr>
<td class="org-left">→</td>
<td class="org-left">Left of top edge</td>
<td class="org-left">Vector or higher-rank array</td>
</tr>

<tr>
<td class="org-left">~</td>
<td class="org-left">Left of bottom edge</td>
<td class="org-left">Numeric data</td>
</tr>

<tr>
<td class="org-left">+</td>
<td class="org-left">Left of bottom edge</td>
<td class="org-left">Mixed data</td>
</tr>

<tr>
<td class="org-left">⊖</td>
<td class="org-left">Left of top edge</td>
<td class="org-left">Empty vector or higher-rank array</td>
</tr>

<tr>
<td class="org-left">↓</td>
<td class="org-left">Left side of box</td>
<td class="org-left">Matrix or higher-rank array</td>
</tr>

<tr>
<td class="org-left">⌽</td>
<td class="org-left">Left side of box</td>
<td class="org-left">Empty matrix or higher-rank array</td>
</tr>

<tr>
<td class="org-left">∊</td>
<td class="org-left">Left of bottom edge</td>
<td class="org-left">Nested array</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-org333c38c" class="outline-3">
<h3 id="org333c38c">Array Type and Prototype</h3>
<div class="outline-text-3" id="text-org333c38c">
<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Array type and prototype</span>
</pre>
</div>

<p>
Arrays of one or more dimensions of zero length are known as <b>empty
array</b>, which can be generated with Reshape (<code>⍴</code>) or a selection of sorts
(like with Compress, <code>/</code>). Its <b>type</b> can be <i>numeric</i>, <i>simple character</i> or
<i>nested</i>, depending on how it was created.
</p>

<p>
Empty arrays are useful for initializing arrays where data will be
added in the future, for creating scalars from arrays or as argument
to Goto (<code>→</code>).
</p>
</div>
<div id="outline-container-org6dc3b1f" class="outline-4">
<h4 id="org6dc3b1f">Array Type and Prototype</h4>
<div class="outline-text-4" id="text-org6dc3b1f">
<p>
Arrays have a type zero for numeric elements, and blank character for
character elements.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Empty numeric vector and empty character vector</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> &#9075;<span style="color: #f5c791;">0</span> &#9674; <span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">''</span>

<span style="color: #454459;">&#9053; Same thing, but using &#9076;</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">0</span>&#9076;<span style="color: #f5c791;">676</span> &#9674; <span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">0</span>&#9076;<span style="color: #f5c791;">'PETER'</span>
</pre>
</div>

<pre class="example" id="orgc909a20">
┌⊖┐
│0│
└─┘
┌⊖┐
│ │
└─┘
</pre>

<p>
Empty numeric vectors can also be created using Zilde (<code>⍬</code>).
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">X&#8592;&#9068;
&#9076;X
X&#8801;<span style="color: #f5c791;">0</span>&#9076;<span style="color: #f5c791;">0</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> &#9068;
</pre>
</div>

<pre class="example" id="org6d4286e">
0
1
┌⊖┐
│0│
└─┘
</pre>
</div>
</div>
<div id="outline-container-orga04ad08" class="outline-4">
<h4 id="orga04ad08">Prototypes of nested arrays</h4>
<div class="outline-text-4" id="text-orga04ad08">
<p>
Complex empty arrays can be created by using a nested array to
generate the empty array:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; A nested array containing a list of characters</span>
<span style="color: #454459;">&#9053; and a list of numbers; the second statement</span>
<span style="color: #454459;">&#9053; is an empty nested array containing another</span>
<span style="color: #454459;">&#9053; empty array.</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">'ABC'</span> (&#9075;<span style="color: #f5c791;">3</span>) &#9674; <span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">0</span>&#9076;<span style="color: #f5c791;">'ABC'</span> (&#9075;<span style="color: #f5c791;">3</span>)
</pre>
</div>

<pre class="example" id="org9a0141f">
┌→────────────┐
│┌→──┐ ┌→────┐│
││ABC│ │1 2 3││
│└───┘ └─────┘│
└∊────────────┘
┌⊖────┐
│┌→──┐│
││   ││
│└───┘│
└∊────┘
</pre>

<p>
When the first element is numeric, we end up with a nested array of
null elements.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> (<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;&#9075;<span style="color: #f5c791;">4</span>) <span style="color: #f5c791;">'ABC'</span> &#9674; <span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">0</span>&#9076;(<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;&#9075;<span style="color: #f5c791;">4</span>) <span style="color: #f5c791;">'ABC'</span>
</pre>
</div>

<pre class="example" id="orge3c6500">
┌→──────────┐
│┌→──┐ ┌→──┐│
│↓1 2│ │ABC││
││3 4│ └───┘│
│└───┘      │
└∊──────────┘
┌⊖────┐
│┌→──┐│
│↓0 0││
││0 0││
│└───┘│
└∊────┘
</pre>

<p>
If the first element is mixed, then we'll have an array filled with
zeroes and empty characters.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> (<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">'K'</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">'J'</span>) (&#9075;<span style="color: #f5c791;">4</span>) &#9674; <span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">0</span>&#9076;(<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">'K'</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">'J'</span>) (&#9075;<span style="color: #f5c791;">4</span>)
</pre>
</div>

<pre class="example" id="org36e3a47">
┌→──────────────┐
│┌→──┐ ┌→──────┐│
│↓1 K│ │1 2 3 4││
││2 J│ └───────┘│
│└───┘          │
└∊──────────────┘
┌⊖────┐
│┌→──┐│
│↓0  ││
││0  ││
│└───┘│
└∊────┘
</pre>

<p>
Therefore, the prototype concept can be used to display the <b>type</b> of an
array.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> VAR &#8592; (<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">'A'</span> <span style="color: #f5c791;">'B'</span> <span style="color: #f5c791;">2</span>) ((&#9075;<span style="color: #f5c791;">2</span>) <span style="color: #f5c791;">7</span>) <span style="color: #f5c791;">'ABC'</span>
</pre>
</div>

<pre class="example" id="orge32d9c9">
┌→────────────────────┐
│┌→──┐ ┌→──────┐ ┌→──┐│
│↓1 A│ │┌→──┐ 7│ │ABC││
││B 2│ ││1 2│  │ └───┘│
│└───┘ │└───┘  │      │
│      └∊──────┘      │
└∊∊───────────────────┘
</pre>

<p>
To display the array type, we first enclose (<code>⊂</code>) the array to make it a
scalar, then we build the empty vector with it (<code>0⍴</code>). Since building
the empty vector creates an additional level of nesting, we use the
First (<code>↑</code>) function to remove it:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> &#8593;<span style="color: #f5c791;">0</span>&#9076;&#8834;VAR
</pre>
</div>

<pre class="example" id="org94537fa">
┌→────────────────────┐
│┌→──┐ ┌→──────┐ ┌→──┐│
│↓0  │ │┌→──┐ 0│ │   ││
││  0│ ││0 0│  │ └───┘│
│└───┘ │└───┘  │      │
│      └∊──────┘      │
└∊∊───────────────────┘
</pre>
</div>
</div>
<div id="outline-container-orgd0c7a9b" class="outline-4">
<h4 id="orgd0c7a9b">The prototype as a fill element</h4>
<div class="outline-text-4" id="text-orgd0c7a9b">
<p>
Functions such as Take (<code>↑</code>), Expand (<code>\</code>) and Replicate (<code>/</code>) add elements
to an existing array. A prototype can be used to determine the type
and shape of extra elements.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Type of array</th>
<th scope="col" class="org-left">Fill Element</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Numeric</td>
<td class="org-left">0</td>
</tr>

<tr>
<td class="org-left">Character</td>
<td class="org-left">Space</td>
</tr>

<tr>
<td class="org-left">Nested/Mixed</td>
<td class="org-left">Prototype of first element, with</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">Numbers/Characters replaced</td>
</tr>

<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">accordingly</td>
</tr>
</tbody>
</table>

<p>
Here are some examples.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">5</span>&#8593;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span> &#9674; <span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">5</span>&#8593;<span style="color: #f5c791;">'ABC'</span> <span style="color: #454459;">&#9053; Numeric and textual vectors of 5 elts</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">2</span>&#8593;<span style="color: #f5c791;">0</span>&#9076;&#8834;VAR   <span style="color: #454459;">&#9053; Vector containing two prototypes</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">2</span>&#8593;&#8834;VAR     <span style="color: #454459;">&#9053; Put VAR's prototype after VAR, in a vector</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> &#175;<span style="color: #f5c791;">2</span>&#8593;&#8834;VAR    <span style="color: #454459;">&#9053; Put VAR's prototype before VAR, in a vector</span>
</pre>
</div>

<pre class="example" id="org4ee8129">
┌→────────┐
│1 2 3 0 0│
└─────────┘
┌→────┐
│ABC  │
└─────┘
┌→──────────────────────────────────────────────┐
│┌→────────────────────┐ ┌→────────────────────┐│
││┌→──┐ ┌→──────┐ ┌→──┐│ │┌→──┐ ┌→──────┐ ┌→──┐││
││↓0  │ │┌→──┐ 0│ │   ││ │↓0  │ │┌→──┐ 0│ │   │││
│││  0│ ││0 0│  │ └───┘│ ││  0│ ││0 0│  │ └───┘││
││└───┘ │└───┘  │      │ │└───┘ │└───┘  │      ││
││      └∊──────┘      │ │      └∊──────┘      ││
│└∊∊───────────────────┘ └∊∊───────────────────┘│
└∊∊∊────────────────────────────────────────────┘
┌→──────────────────────────────────────────────┐
│┌→────────────────────┐ ┌→────────────────────┐│
││┌→──┐ ┌→──────┐ ┌→──┐│ │┌→──┐ ┌→──────┐ ┌→──┐││
││↓1 A│ │┌→──┐ 7│ │ABC││ │↓0  │ │┌→──┐ 0│ │   │││
│││B 2│ ││1 2│  │ └───┘│ ││  0│ ││0 0│  │ └───┘││
││└───┘ │└───┘  │      │ │└───┘ │└───┘  │      ││
││      └∊──────┘      │ │      └∊──────┘      ││
│└∊∊───────────────────┘ └∊∊───────────────────┘│
└∊∊∊────────────────────────────────────────────┘
┌→──────────────────────────────────────────────┐
│┌→────────────────────┐ ┌→────────────────────┐│
││┌→──┐ ┌→──────┐ ┌→──┐│ │┌→──┐ ┌→──────┐ ┌→──┐││
││↓0  │ │┌→──┐ 0│ │   ││ │↓1 A│ │┌→──┐ 7│ │ABC│││
│││  0│ ││0 0│  │ └───┘│ ││B 2│ ││1 2│  │ └───┘││
││└───┘ │└───┘  │      │ │└───┘ │└───┘  │      ││
││      └∊──────┘      │ │      └∊──────┘      ││
│└∊∊───────────────────┘ └∊∊───────────────────┘│
└∊∊∊────────────────────────────────────────────┘
</pre>

<p>
More info: <a href="https://aplwiki.com/EmptyArraysAndPrototypes">Empty Arrays and Prototypes</a>
</p>
</div>
</div>
</div>
<div id="outline-container-org9b4c1a8" class="outline-3">
<h3 id="org9b4c1a8">Vector Notation</h3>
<div class="outline-text-3" id="text-org9b4c1a8">
<p>
Nothing new here. Just pay attention to how the vectors are
constructed:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> <span style="color: #f5c791;">'ABC'</span> <span style="color: #f5c791;">'DEF'</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> (<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>) <span style="color: #f5c791;">'DEF'</span>
&#9076;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">'DEF'</span>
&#9076;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span> <span style="color: #f5c791;">'D'</span> <span style="color: #f5c791;">'E'</span> <span style="color: #f5c791;">'F'</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> ((<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span>) (<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>)) <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>

X&#8592;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;&#9075;<span style="color: #f5c791;">4</span>
Y&#8592;<span style="color: #f5c791;">'HELLO'</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> (X Y)  <span style="color: #454459;">&#9053; Variables entered in vector form</span>
&#9076;X Y
</pre>
</div>

<pre class="example" id="org523602d">
      8⎕CR 'ABC' 'DEF'
┌→──────────┐
│┌→──┐ ┌→──┐│
││ABC│ │DEF││
│└───┘ └───┘│
└∊──────────┘
      8⎕CR ((1 2 3) 'DEF')
┌→────────────┐
│┌→────┐ ┌→──┐│
││1 2 3│ │DEF││
│└─────┘ └───┘│
└∊────────────┘
      ⍴1 2 3 'DEF'
4
      ⍴1 2 3 'D' 'E' 'F'
6
      8⎕CR ((1 2) (3 4)) 2 3
┌→────────────────┐
│┌→──────────┐ 2 3│
││┌→──┐ ┌→──┐│    │
│││1 2│ │3 4││    │
││└───┘ └───┘│    │
│└∊──────────┘    │
└∊∊───────────────┘
      X←2 2⍴⍳4
      Y←'HELLO'
      8⎕CR (X Y)  ⍝ Variables entered in vector form
┌→────────────┐
│┌→──┐ ┌→────┐│
│↓1 2│ │HELLO││
││3 4│ └─────┘│
│└───┘        │
└∊────────────┘
      ⍴X Y
2
</pre>
</div>
</div>
<div id="outline-container-org5f52aa8" class="outline-3">
<h3 id="org5f52aa8">Variables and Indexing</h3>
<div class="outline-text-3" id="text-org5f52aa8">
<p>
Nothing new too.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">LIST&#8592;<span style="color: #f5c791;">12</span> <span style="color: #f5c791;">24</span> <span style="color: #f5c791;">36</span> <span style="color: #f5c791;">48</span>
LIST[<span style="color: #f5c791;">2</span>]
LIST[<span style="color: #f5c791;">1</span>]+LIST[<span style="color: #f5c791;">4</span>]

ALF&#8592;<span style="color: #f5c791;">'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</span>
ALF[<span style="color: #f5c791;">26</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">13</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">9</span> <span style="color: #f5c791;">1</span>]

TABLE&#8592;<span style="color: #f5c791;">10</span>&#215;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">4</span>&#9076;&#9075;<span style="color: #f5c791;">8</span>
TABLE[<span style="color: #f5c791;">1</span>;<span style="color: #f5c791;">4</span>]
TABLE[<span style="color: #f5c791;">1</span>;&#9075;<span style="color: #f5c791;">4</span>]+TABLE[<span style="color: #f5c791;">2</span>;&#9075;<span style="color: #f5c791;">4</span>]
TABLE[<span style="color: #f5c791;">1</span>;]+TABLE[<span style="color: #f5c791;">2</span>;]
(&#9076;TABLE[<span style="color: #f5c791;">1</span>;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>])=(&#9076;<span style="color: #f5c791;">1</span>),&#9076;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>

ALF[<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;&#9075;<span style="color: #f5c791;">4</span>]
&#9076;TABLE[<span style="color: #f5c791;">1</span>;]      <span style="color: #454459;">&#9053; Rows indexed by scalar, result is vector</span>
&#9076;TABLE[,<span style="color: #f5c791;">1</span>;]     <span style="color: #454459;">&#9053; Rows indexed by vector, result is matrix</span>
&#9076;TABLE[<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">1</span>&#9076;<span style="color: #f5c791;">1</span>;]  <span style="color: #454459;">&#9053; Rows indexed by matrix, result is cube</span>
</pre>
</div>
</div>
<div id="outline-container-org0b4e8c7" class="outline-4">
<h4 id="org0b4e8c7">The Index (<code>⌷</code>) function</h4>
<div class="outline-text-4" id="text-org0b4e8c7">
<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE[<span style="color: #f5c791;">1</span>;<span style="color: #f5c791;">2</span>]=<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span>&#9015;TABLE

<span style="color: #f5c791;">2</span>&#9015;&#9075;<span style="color: #f5c791;">5</span>
(&#8834;<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>)&#9015;&#9075;<span style="color: #f5c791;">5</span>    <span style="color: #454459;">&#9053; Use a nested scalar for multiple index.</span>

TAB&#8592;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">5</span>&#9076;&#9075;<span style="color: #f5c791;">10</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> TAB

<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>&#9015;TAB
<span style="color: #f5c791;">2</span> (<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>)&#9015;TAB      <span style="color: #454459;">&#9053; 2nd element of indexing vec is an enclosed vec</span>
<span style="color: #454459;">&#9053; Nested 2-elts vector for multiple indexes.</span>
<span style="color: #454459;">&#9053; Result is a submatrix of TAB located at</span>
<span style="color: #454459;">&#9053; rows 1 2, columns 2 3.</span>
(<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span>) (<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>)&#9015;TAB

<span style="color: #454459;">&#9053; An empty left argument is OK for index when</span>
<span style="color: #454459;">&#9053; a scalar is the right argument. This returns</span>
<span style="color: #454459;">&#9053; the scalar itself.</span>
(&#9075;<span style="color: #f5c791;">0</span>)&#9015;<span style="color: #f5c791;">37</span>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org0b195f6" class="outline-3">
<h3 id="org0b195f6">Multiple Specification</h3>
<div class="outline-text-3" id="text-org0b195f6">
<p>
Nothing new here as well.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">(A B C)&#8592;<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>
A &#9674; B &#9674; C

(A B C)&#8592;<span style="color: #f5c791;">5</span>
A &#9674; B &#9674; C

(A B C)&#8592;<span style="color: #f5c791;">'HI'</span> <span style="color: #f5c791;">'THERE'</span> <span style="color: #f5c791;">'FOLKS'</span>
&#9076;A   <span style="color: #454459;">&#9053; See that A received 'HI' only</span>

(A B C)&#8592;&#8834;<span style="color: #f5c791;">'HI'</span> <span style="color: #f5c791;">'THERE'</span> <span style="color: #f5c791;">'FOLKS'</span>
&#9076;A   <span style="color: #454459;">&#9053; All three variables received a vec of the three char vecs</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> A
</pre>
</div>
</div>
</div>
<div id="outline-container-org8d96932" class="outline-3">
<h3 id="org8d96932">Selective Specification</h3>
<div class="outline-text-3" id="text-org8d96932">
<p>
Some functions in APL can be used to select portions of an array. When
associated with assignment, they can be used to assign values to
portions of such array.
</p>

<p>
Bracket indexing is the easiest example.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TAB&#8592;<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">3</span>&#9076;&#9075;<span style="color: #f5c791;">6</span>
TAB[<span style="color: #f5c791;">2</span>;<span style="color: #f5c791;">1</span>]&#8592;<span style="color: #f5c791;">8</span>
</pre>
</div>

<p>
Let's assign the first three elements of a vector by using the Take
(dyadic <code>↑</code>) function.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">VEC&#8592;&#9075;<span style="color: #f5c791;">5</span>
(<span style="color: #f5c791;">3</span>&#8593;VEC)&#8592;<span style="color: #f5c791;">'ABC'</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> VEC
</pre>
</div>

<pre class="example" id="org5902e26">
┌→──────┐
│ABC 4 5│
└───────┘
</pre>

<p>
Let's use the Ravel (monadic <code>,</code>) on a matrix to assign a new vector
value to it:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">MAT&#8592;<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>&#9076;<span style="color: #f5c791;">'ABCDEFGHIJKL'</span>
(,MAT)&#8592;<span style="color: #f5c791;">'NEW DATAHERE'</span>  <span style="color: #454459;">&#9053; Ravelled matrix appears as a vector</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> MAT               <span style="color: #454459;">&#9053; Assignment occurs in matrix itself</span>
</pre>
</div>

<pre class="example" id="org15d69cd">
┌→───┐
↓NEW │
│DATA│
│HERE│
└────┘
</pre>

<p>
Now let's combine Compression (dyadic <code>/</code>) and Ravel (monadic <code>,</code>) to
select all A's on the matrix, and replace them by asterisk:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">((<span style="color: #f5c791;">'A'</span>=,MAT)/,MAT)&#8592;<span style="color: #f5c791;">'*'</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> MAT
</pre>
</div>

<pre class="example" id="orgf8fce82">
┌→───┐
↓NEW │
│D*T*│
│HERE│
└────┘
</pre>

<p>
We can also combine Take (dyadic <code>↑</code>) and Ravel (monadic <code>,</code>) to replace
elements at the top-left 2×2 submatrix of <code>MAT</code>:
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">(,<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#8593;MAT)&#8592;<span style="color: #f5c791;">'&#9109;&#9109;&#9109;&#9109;'</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> MAT
</pre>
</div>

<pre class="example" id="org1ce9515">
┌→───┐
↓⎕⎕W │
│⎕⎕T*│
│HERE│
└────┘
</pre>

<p>
We can also use the Compression (<code>/</code>) function for selection.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">TABLE&#8592;<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">4</span>&#9076;&#9075;<span style="color: #f5c791;">12</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> TABLE
(<span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0</span> <span style="color: #f5c791;">1</span> <span style="color: #f5c791;">0/TABLE</span>)&#8592;<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">2</span>&#9076;<span style="color: #f5c791;">100</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> TABLE
</pre>
</div>

<pre class="example" id="orgb673b8f">
┌→─────────┐
↓1  2  3  4│
│5  6  7  8│
│9 10 11 12│
└──────────┘
┌→────────────┐
↓100  2 100  4│
│100  6 100  8│
│100 10 100 12│
└─────────────┘
</pre>

<p>
In the next example, we have a vector <code>X</code>. We want to replace the first
<code>⍴X</code> elements of <code>DATA</code> with the contents of <code>X</code>.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">DATA&#8592;&#9075;<span style="color: #f5c791;">13</span>
X&#8592;<span style="color: #f5c791;">10</span>&#215;&#9075;<span style="color: #f5c791;">3</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> DATA
((&#9076;X)&#8593;DATA)&#8592;X
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> DATA
</pre>
</div>

<pre class="example" id="org32820eb">
┌→────────────────────────────┐
│1 2 3 4 5 6 7 8 9 10 11 12 13│
└─────────────────────────────┘
┌→───────────────────────────────┐
│10 20 30 4 5 6 7 8 9 10 11 12 13│
└────────────────────────────────┘
</pre>

<p>
Replace the first <code>X+2</code> elements of <code>Y</code> with the reverse of a vector
containing numbers <code>1</code> up to <code>X+2:</code>
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">Y&#8592;&#9075;<span style="color: #f5c791;">10</span>
X&#8592;<span style="color: #f5c791;">3</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> Y

((<span style="color: #f5c791;">2+X</span>)&#8593;Y)&#8592;&#9021;&#9075;X+2
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> Y
</pre>
</div>

<pre class="example" id="org63e61e9">
┌→───────────────────┐
│1 2 3 4 5 6 7 8 9 10│
└────────────────────┘
┌→───────────────────┐
│5 4 3 2 1 6 7 8 9 10│
└────────────────────┘
</pre>

<p>
We can use Enlist (monadic <code>∊</code>) to remove nesting from an array.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> NEST&#8592;(<span style="color: #f5c791;">2</span> <span style="color: #f5c791;">2</span>&#9076;&#9075;<span style="color: #f5c791;">4</span>) <span style="color: #f5c791;">'TEXT'</span> (<span style="color: #f5c791;">3</span> <span style="color: #f5c791;">1</span>&#9076;&#9075;<span style="color: #f5c791;">3</span>)
(&#8714;NEST)&#8592;<span style="color: #f5c791;">0</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> NEST

<span style="color: #454459;">&#9053; Set specific position to number</span>
(<span style="color: #f5c791;">6</span>&#9015;&#8714;NEST)&#8592;<span style="color: #f5c791;">999</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> NEST

<span style="color: #454459;">&#9053; Set specific position to character vector (text).</span>
<span style="color: #454459;">&#9053; For that, introduce extra nesting to the new text.</span>
(<span style="color: #f5c791;">7</span>&#9015;&#8714;NEST)&#8592;&#8834;<span style="color: #f5c791;">'TEXT'</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> NEST
</pre>
</div>

<pre class="example" id="org6f518e2">
┌→───────────────┐
│┌→──┐ ┌→───┐ ┌→┐│
│↓1 2│ │TEXT│ ↓1││
││3 4│ └────┘ │2││
│└───┘        │3││
│             └─┘│
└∊───────────────┘
┌→──────────────────┐
│┌→──┐ ┌→──────┐ ┌→┐│
│↓0 0│ │0 0 0 0│ ↓0││
││0 0│ └───────┘ │0││
│└───┘           │0││
│                └─┘│
└∊──────────────────┘
┌→────────────────────┐
│┌→──┐ ┌→────────┐ ┌→┐│
│↓0 0│ │0 999 0 0│ ↓0││
││0 0│ └─────────┘ │0││
│└───┘             │0││
│                  └─┘│
└∊────────────────────┘
┌→─────────────────────────┐
│┌→──┐ ┌→─────────────┐ ┌→┐│
│↓0 0│ │0 999 ┌→───┐ 0│ ↓0││
││0 0│ │      │TEXT│  │ │0││
│└───┘ │      └────┘  │ │0││
│      └∊─────────────┘ └─┘│
└∊∊────────────────────────┘
</pre>

<p>
The function First (monadic <code>↑</code>) selects the first element of an
array. Here, we shall replace the first 2×2 matrix of <code>NEST</code> by a
character vector.
</p>

<div class="org-src-container">
<pre class="src src-gnu-apl">(&#8593;NEST)&#8592;<span style="color: #f5c791;">'ABC'</span>
<span style="color: #f5c791;">8</span><span style="color: #9d81ba;">&#9109;CR</span> NEST
</pre>
</div>

<p>
So, the sky is the limit. For more info, see <a href="https://aplwiki.com/LearnMoreApl/SelectiveSpecification">this page</a>.
</p>
</div>
</div>
<div id="outline-container-orgb1f42f2" class="outline-3">
<h3 id="orgb1f42f2">Binding Strengths</h3>
<div class="outline-text-3" id="text-orgb1f42f2">
<p>
In general, APL evaluates from right to left. However, some elements
can be said to have stronger binding.
</p>

<p>
Here is a descending list of binding strength.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Binding</th>
<th scope="col" class="org-left">Bound items</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Brackets <code>[]</code></td>
<td class="org-left">Brackets to object to the left</td>
</tr>

<tr>
<td class="org-left">Specification <code>←</code> left</td>
<td class="org-left"><code>←</code> to object on its left</td>
</tr>

<tr>
<td class="org-left">Right operand</td>
<td class="org-left">Dyadic operator to its right operand</td>
</tr>

<tr>
<td class="org-left">Vector</td>
<td class="org-left">Array to array</td>
</tr>

<tr>
<td class="org-left">Left operand</td>
<td class="org-left">Operator to its left operand</td>
</tr>

<tr>
<td class="org-left">Left argument</td>
<td class="org-left">Function to left argument</td>
</tr>

<tr>
<td class="org-left">Right argument</td>
<td class="org-left">Function to right argument</td>
</tr>

<tr>
<td class="org-left">Specification <code>←</code> right</td>
<td class="org-left"><code>←</code> to object on its right</td>
</tr>
</tbody>
</table>

<p>
And parentheses can override the binding strength hierarchy.
</p>

<p>
For more info, see <a href="https://aplwiki.com/LearnMoreApl/BindingStrengths">this page</a>.
</p>
</div>
</div>
<div id="outline-container-orgb9d9e7a" class="outline-3">
<h3 id="orgb9d9e7a">Pervasive Functions</h3>
<div class="outline-text-3" id="text-orgb9d9e7a">
<p>
There are Scalar and Mixed functions in APL. Scalar functions have the
property of being <i>pervasive</i>, that is, they apply to all levels of
nesting on the data.
</p>

<p>
Here are some scalar functions:
</p>

<pre class="example" id="orgc0c770a">
+ - × ÷ | ⌈ ⌊ * ⍟ ○ ! ^ ∨ ⍲ ⍱ &lt; ≤ = ≥ &gt; ≠
Monadic ~
Monadic ?
</pre>

<p>
For more info, see <a href="https://aplwiki.com/LearnMoreApl/PervasiveFunctions">this page</a>.
</p>
</div>
</div>
<div id="outline-container-orgf880cef" class="outline-3">
<h3 id="orgf880cef">OO, Classes and Inheritance</h3>
<div class="outline-text-3" id="text-orgf880cef">
<p>
GNU APL does not support object orientation, therefore I will not be
covering it. However, Dyalog APL does.
</p>

<p>
Object-oriented APL <a href="https://aplwiki.com/LearnMoreApl/AplClasses">information can be found on this page</a>.
</p>
</div>
</div>
</div>
<div id="outline-container-orge54727c" class="outline-2">
<h2 id="orge54727c">Finishing</h2>
<div class="outline-text-2" id="text-orge54727c">
<div class="org-src-container">
<pre class="src src-gnu-apl"><span style="color: #454459;">&#9053; Closes the script file.</span>
)OFF
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<h3><a href="../">Back to last page</a></h3>
</div>
</body>
</html>
