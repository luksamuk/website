# This is a setupfile for posts. It incorporates the website stylesheet as well.

#+LANGUAGE: en

:ANALYTICS:
#+HTML_HEAD: <!-- Google tag (gtag.js) -->
#+HTML_HEAD: <script async src="https://www.googletagmanager.com/gtag/js?id=G-22RF3F5XE0"></script>
#+HTML_HEAD: <script>
#+HTML_HEAD:   window.dataLayer = window.dataLayer || [];
#+HTML_HEAD:   function gtag(){dataLayer.push(arguments);}
#+HTML_HEAD:   gtag('js', new Date());
#+HTML_HEAD: 
#+HTML_HEAD:   gtag('config', 'G-22RF3F5XE0');
#+HTML_HEAD: </script>
:END:

#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="../css/main.css" />
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="../css/syntax.css" />
#+HTML_HEAD: <link id="theme-css" rel="stylesheet" type="text/css" href="../css/dark-theme.css" />
#+HTML_HEAD: <link rel="icon" type="image/jpg" href="../img/cat-i-mage.jpg" />
#+HTML_HEAD: <meta name="viewport" content="width=device-width, initial-scale=1.0">
#+HTML_HEAD: <meta property="og:image" content="../img/cat-i-mage.jpg">
#+HTML_HEAD: <meta name="theme-color" content="#14171e">

# Disqus thread
#+HTML_FOOTER: <div id="disqus_thread"></div>
#+HTML_FOOTER: <script>
#+HTML_FOOTER:   function slugify(title){
#+HTML_FOOTER:     if(!title) return '';
#+HTML_FOOTER:     // normalize Unicode, remove diacritics, remove non-word chars, collapse spaces -> dash
#+HTML_FOOTER:     return title
#+HTML_FOOTER:       .trim()
#+HTML_FOOTER:       .toLowerCase()
#+HTML_FOOTER:       .normalize('NFKD') // decompose accents
#+HTML_FOOTER:       .replace(/[\u0300-\u036f]/g, '') // remove diacritic marks
#+HTML_FOOTER:       .replace(/[^\w\s-]/g, '') // remove non-word chars
#+HTML_FOOTER:       .replace(/\s+/g, '-') // spaces -> dashes
#+HTML_FOOTER:       .replace(/^-+|-+$/g, ''); // trim leading/trailing dashes
#+HTML_FOOTER:   }
#+HTML_FOOTER:
#+HTML_FOOTER:   var pageTitle = document.title || '';
#+HTML_FOOTER:   var rawPath = (window.location.pathname || '/').replace(/\/index\.html$/, '/');
#+HTML_FOOTER:   // canonical URL without query string or hash
#+HTML_FOOTER:   var canonicalUrl = window.location.origin + rawPath.replace(/\/*$/, '/');
#+HTML_FOOTER:   var pageIdentifier = slugify(pageTitle) || slugify(rawPath);
#+HTML_FOOTER:
#+HTML_FOOTER:   var disqus_config = function () {
#+HTML_FOOTER:     this.page.url = canonicalUrl;
#+HTML_FOOTER:     this.page.identifier = pageIdentifier;
#+HTML_FOOTER:   };
#+HTML_FOOTER:
#+HTML_FOOTER:   (function(){
#+HTML_FOOTER:   var d = document, s = d.createElement('script');
#+HTML_FOOTER:   s.src = 'https://luksamuk-codes.disqus.com/embed.js';
#+HTML_FOOTER:   s.setAttribute('data-timestamp', +new Date());
#+HTML_FOOTER:   (d.head || d.body).appendChild(s);
#+HTML_FOOTER:   })();
#+HTML_FOOTER: </script>
#+HTML_FOOTER: <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


#+DESCRIPTION: Programming, Tech, and occasional rant space by Lucas Vieira

#+ATTR_ASCII: :width 80

#+OPTIONS: toc:nil timestamp:nil num:nil email:t validate:nil html-postamble:t
#+OPTIONS: html-preamble:t author:t date:t html-scripts:nil
#+OPTIONS: title:nil

# NOTE: THESE VARIABLES SHOULD BE SET IN BINDINGS.EL. DON'T FORGET THAT.

#+BIND: org-html-preamble-format (("en" "<nav><h1><a href=\"../\">The Alchemist's Hideout</a></h1></nav><h1 class=\"title\">%t</h1>" "<p><i>Written in %d by %a<br/>%e</i></p>") ("pt_BR" "<nav><h1><a href=\"../\">The Alchemist's Hideout</a></h1></nav><h1 class=\"title\">%t</h1><p><i>Escrito em %d por %a<br/>%e</i></p>"))

#+BIND: org-html-postamble-format (("en" "<h3><a href=\"../\">\< Back to last page</a></h3><div id=\"disqus_thread\"></div><script src=\"../js/disqus.js\"></script><noscript>Please enable JavaScript to view the <a href=\"https://disqus.com/?ref_noscript\">comments powered by Disqus.</a></noscript>") ("pt_BR" "<h3><a href=\"../\">\< De volta à página anterior</a></h3><div id=\"disqus_thread\"></div><script src=\"../js/disqus.js\"></script><noscript>Habilite o JavaScript para ver os <a href=\"https://disqus.com/?ref_noscript\">comentários do Disqus.</a></noscript>"))

#+BEGIN_SRC elisp :eval no :exports none
(setq org-html-preamble-format
      (list (list "en"
		  (concat "<nav><h1><a href=\"../\">The Alchemist's Hideout</a></h1></nav>"
                          "<h1 class=\"title\">%t</h1>"
			  "<p><i>Written in %d by %a"
			  "<br/>"
			  "%e</i></p>"))
	    (list "pt_BR"
		  (concat "<nav><h1><a href=\"../\">The Alchemist's Hideout</a></h1></nav>"
                          "<h1 class=\"title\">%t</h1>"
			  "<p><i>Escrito em %d por %a"
			  "<br/>"
			  "%e</i></p>"))))

(setq org-html-postamble-format
      (list (list "en"
                  (concat "<h3><a href=\"../\">\< Back to last page</a></h3>"
                          "<div id=\"disqus_thread\"></div>"
                          "<script src=\"../js/disqus.js\"></script>"
                          "<noscript>Please enable JavaScript to view the <a href=\"https://disqus.com/?ref_noscript\">comments powered by Disqus.</a></noscript>"))
	    (list "pt_BR"
                  (concat "<h3><a href=\"../\">\< De volta à página anterior</a></h3>"
                          "<div id=\"disqus_thread\"></div>"
                          "<script src=\"../js/disqus.js\"></script>"
                          "<noscript>Habilite o JavaScript para ver os <a href=\"https://disqus.com/?ref_noscript\">comentários do Disqus.</a></noscript>"))))
#+END_SRC


