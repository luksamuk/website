<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Git</title>
<meta name="author" content="Lucas S. Vieira"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.css"/>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js/dist/theme/league.css" id="theme"/>


<!-- If the query includes 'print-pdf', include the PDF print sheet -->
<script>
    if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'https://cdn.jsdelivr.net/npm/reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
    }
</script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide"><h3>Git<br/></h3><p>Webinar Técnico<br/><br/>Lucas S. Vieira</h3><br/><p><a href="mailto:lucas.vieira@atsinformatica.com.br">lucas.vieira@atsinformatica.com.br</a><br/>28 de março de 2022<br/>ATS Informática</p>
</section>
<style type="text/css">
.reveal pre {
box-shadow: 0px 0px 0px rgba(0, 0, 0, 0) !important;
font-size: 0.7em;
}
</style>

<style>
.container {
display: flex;
}
.col {
flex: 1;
}
</style>

<section>
<section id="slide-orgbcb7943">
<h2 id="orgbcb7943">O que é Git?</h2>

<div id="org172cb22" class="figure">
<p><img src="./git_img/git-logo.png" alt="git-logo.png" width="500px" />
</p>
</div>

</section>
<section id="slide-org57f3700">
<h3 id="org57f3700">Surgimento do Git</h3>
<div class="container">
<div class="col">

<p>
<b>Gerenciador de controle de versão</b> (SCM) criado por Linus Torvalds.
</p>

<p style="font-size:0.7em;text-align:left;">
Feito para o Linux, portanto pensado para bases de código grandes!
</p>

<p style="font-size:0.7em;text-align:left;">
Ao contrário de outros SCMs (como  SVN), Git não armazena <i>deltas</i> (mudanças), e
sim <i>snapshots</i> ("fotos" inteiras do projeto).
</p>

</div>
<div class="col">


<div id="orgeeb6bb0" class="figure">
<p><img src="./git_img/linus.jpg" alt="linus.jpg" width="500px" />
</p>
</div>

</div>
</div>

</section>
<section id="slide-org86c1958">
<h3 id="org86c1958">Características principais</h3>
<ul>
<li class="fragment appear">Git trabalha com <b>repositórios</b>.</li>
<li class="fragment appear">Existem repositórios <b>remotos</b> e repositórios <b>locais</b>.</li>
<li class="fragment appear">Cada repositório possui  um ou mais <b>ramos</b> (<i>branches</i>), e  cada ramo tem uma
ponta (<code>HEAD</code>).</li>
<li class="fragment appear">Cada <i>branch</i> é composto de vários <i>commits</i>.</li>
<li class="fragment appear">Pode-se criar <i>branches</i> a partir de outros.</li>
<li class="fragment appear">Pode-se criar <i>forks</i> de repositórios.</li>

</ul>

</section>
<section id="slide-orgc408538">
<h3 id="orgc408538">Para quem gostar da "teoria"&#x2026;</h3>
<p>
A estrutura de dados do Git é um  <i>grafo acíclico dirigido</i> (DAG).
</p>

<p>
Ou seja,  é um <i>grafo</i>,  mas os caminhos têm  uma direção <i>temporal</i>.  Por isso,
pode ser imaginado como uma <b>árvore</b>.
</p>

</section>
<section id="slide-org8cff6ab">
<h3 id="org8cff6ab">Git vs. GitHub</h3>

<div id="orgd95f428" class="figure">
<p><img src="./git_img/Octocat.png" alt="Octocat.png" height="200px" />
</p>
</div>

<p>
Git = Controle de versão.
</p>

<p>
GitHub = <i>Git forge</i> e rede social.
</p>

</section>
<section id="slide-orge06149b">
<h4 id="orge06149b">Qual a importância de uma Git Forge?</h4>
<ul>
<li class="fragment highlight-blue">Portfolio;</li>
<li class="fragment highlight-blue">Compartilhamento de código aberto;</li>
<li class="fragment highlight-blue">Hospedagem de sites estáticos (GitHub Pages);</li>
<li class="fragment highlight-blue">Integração com outros serviços (ex. Heroku);</li>
<li class="fragment highlight-blue"><b>Comunidade!</b></li>

</ul>

</section>
<section id="slide-org066226b">
<h3 id="org066226b">Uso de linha de comando</h3>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git status
$ git --help
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-orga864c4a">
<h2 id="orga864c4a">Fluxo de Git</h2>
<div class="outline-text-2" id="text-orga864c4a">
</div>
</section>
<section id="slide-orgf8d5f2b">
<h3 id="orgf8d5f2b">Criando um repositório</h3>
<ul>
<li class="fragment grow">Via <code>git clone</code> (clonar remoto)</li>
<li class="fragment grow">Via <code>git init</code> (manualmente)</li>
<li class="fragment grow">Forks de repositórios</li>

</ul>

</section>
<section id="slide-orgaca7b58">
<h3 id="orgaca7b58">Gerenciando commits</h3>
<div class="outline-text-3" id="text-orgaca7b58">
</div>
</section>
<section id="slide-org8824a0d">
<h4 id="org8824a0d">Adicionando arquivos para a área de <i>staging</i></h4>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git add arquivo.txt
$ git add .
$ git add -A
</code></pre>
</div>

</section>
<section id="slide-org933e645">
<h4 id="org933e645">Commits</h4>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git commit
$ git commit -m <span style="color: #f5c791;">'Mensagem do commit'</span>
</code></pre>
</div>

</section>
<section id="slide-orgfe88cbf">
<h4 id="orgfe88cbf">Log de commits</h4>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git log
$ git log --oneline
$ git log --graph
$ git log --graph --oneline
</code></pre>
</div>

</section>
<section id="slide-orgfe88cbf-split">


<div id="orgc7cd371" class="figure">
<p><img src="./git_img/gitlog.png" alt="gitlog.png" />
</p>
</div>

</section>
<section id="slide-org78b6bcf">
<h4 id="org78b6bcf">Desfazendo commits</h4>
<p>
Para desfazer seu último commit na branch atual:
</p>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git reset --soft HEAD~1
</code></pre>
</div>

<ul>
<li class="fragment appear">O número indica a quantidade de commits desfeitos.</li>
<li class="fragment appear">Se estiver no Git CMD, troque <code>~</code> por <code>^</code>.</li>
<li class="fragment appear">Caso  você queira  reverter  e  REMOVER as  alterações,  use a  flag
<code>--hard</code>.</li>

</ul>

</section>
<section id="slide-org43bf9c6">
<h4 id="org43bf9c6">ATENÇÃO!</h4>
<p>
<b>RESET</b>  não  é  <b>REVERT</b>.  Existe   uma  diferença  entre  desfazer  commits  e
revertê-los.
</p>

<p class="fragment (appear)">
<b>Resetar</b>  implica  refazer  a  história.  <b>Reverter</b>  implica  criar  uma  nova
alteração no futuro que desfaça uma do passado.
</p>

</section>
<section id="slide-orgd03cd3c">
<h4 id="orgd03cd3c">Definindo o repositório remoto</h4>
<p>
Adicionar um  repositório remoto  chamado <code>origin</code> para  o repositório
atual.
</p>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git remote add <span style="color: #f5c791;">\</span>
  origin https://github.com/fulano/repo.git
</code></pre>
</div>

</section>
<section id="slide-org9b6f18e">
<h4 id="org9b6f18e">Enviando commits para o repositório remoto</h4>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git push
</code></pre>
</div>

</section>
<section id="slide-org9b6f18e-split">

<p>
Pode ser que o <i>upstream</i> da branch não esteja definido.
Podemos criar a branch no repositório remoto (<code>origin</code>).
</p>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git push --set-upstream origin minha_branch
$ git push -u origin minha_branch
</code></pre>
</div>

</section>
<section id="slide-org9615f9e">
<h3 id="org9615f9e">Criando branches</h3>
<div class="outline-text-3" id="text-org9615f9e">
</div>
</section>
<section id="slide-org9cc55cf">
<h4 id="org9cc55cf">Estilo <i>Git Flow</i></h4>
<ul>
<li class="fragment appear"><b>Branches padrão:</b> <code>master</code>, <code>develop</code></li>
<li class="fragment appear"><b>Novas implementações:</b> <code>feature/xxxx</code> (pela <code>develop</code>)</li>
<li class="fragment appear"><b>Correções de emergência (e SLAs):</b> <code>hotfix/xxxx</code> (pela <code>master</code>)</li>

</ul>

<div class="org-src-container">

<pre  class="fragment (appear)"   ><code trim>$ git checkout develop
$ git checkout -b feature/xxxx
</code></pre>
</div>

</section>
<section id="slide-org3eae5f9">
<h3 id="org3eae5f9">Gerenciando branches</h3>
<div class="outline-text-3" id="text-org3eae5f9">
</div>
</section>
<section id="slide-orga25044d">
<h4 id="orga25044d">Deletar uma branch (local)</h4>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git checkout outra_branch
$ git branch -d branch_original

$ git branch -D branch_original
</code></pre>
</div>

</section>
<section id="slide-orga5a8559">
<h4 id="orga5a8559">Deletar uma branch (remota)</h4>
<p>
Na verdade, fazemos um "<i>push</i> da remoção".
</p>

<p>
<code>origin</code> é o nome do repositório remoto.
</p>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git push origin --delete branch_original
</code></pre>
</div>

<div class="org-src-container">

<pre  class="fragment (appear)"   ><code trim>$ git push origin :branch_original
</code></pre>
</div>

</section>
<section id="slide-orgd08ed94">
<h4 id="orgd08ed94">Remover e recuperar referências de branches remotas</h4>
<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>git fetch --prune
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-org7ae1252">
<h2 id="org7ae1252">Práticas comuns</h2>
<div class="outline-text-2" id="text-org7ae1252">
</div>
</section>
<section id="slide-org3f1a1a4">
<h3 id="org3f1a1a4">Ignorando arquivos</h3>
<p>
Alguns  arquivos  <b>não  deveriam</b>  subir para  o  Git  (salvo  algumas
exceções). Em geral: <i>arquivos binários</i> (blobs).
</p>

<p>
Isso pode ser feito com um arquivo <code>.gitignore</code>.
</p>

</section>
<section id="slide-org3f1a1a4-split">

<p>
O arquivo pode ser colocado na raiz do repositório ou em uma subpasta.
</p>

<div class="org-src-container">

<pre  class="src src-text"   ><code trim>*.pdf
*.jpg
*.png
*.exe
*~
*.dcu
</code></pre>
</div>

<p>
Exemplos para projetos de cada linguagem: <a href="https://gitignore.io">https://gitignore.io</a>
</p>

</section>
<section id="slide-org3f1a1a4-split">

<p>
Se for extremamente necessário  armazenar arquivos binários <b>grandes</b>,
use a extensão Git LFS (<i>Large File Support</i>).
</p>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git lfs track <span style="color: #f5c791;">"*.mp3"</span>
$ git lfs track <span style="color: #f5c791;">"*.bin"</span>
$ git lfs track <span style="color: #f5c791;">"*.res"</span>
</code></pre>
</div>

<p>
<a href="https://www.atlassian.com/git/tutorials/git-lfs">https://www.atlassian.com/git/tutorials/git-lfs</a>
</p>

</section>
<section id="slide-org49dd59d">
<h3 id="org49dd59d">Atualizar uma branch</h3>
<p>
Pode  ser  necessário  atualizar  o  branch  atual  de  acordo  com  a
<code>develop</code>.
</p>

<p>
Há duas formas de fazer isto:
</p>

<ul>
<li class="fragment appear">Merge;</li>
<li class="fragment appear"><b>Rebase</b>.</li>

</ul>

</section>
<section id="slide-org49dd59d-split">

<p>
Antes de mais nada, atualize a <code>develop</code>.
</p>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git checkout develop
$ git pull
$ git checkout feature/xxxx
</code></pre>
</div>

</section>
<section id="slide-orge13edc2">
<h4 id="orge13edc2">Merge</h4>
<p>
O  Git Merge  atualmente  é  o processo  padrão  para recuperar  novos
commits de uma branch pública.
</p>

<p>
Basta atualizar a <code>develop</code> e dar merge na feature:
</p>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git merge develop
</code></pre>
</div>

<p>
"Merge <code>develop</code> into <code>feature/xxx</code>"
</p>

</section>
<section id="slide-orga6d41cf">
<h4 id="orga6d41cf">Conflitos no Merge</h4>
<p>
Durante o processo de merge, pode ocorrer conflitos.
</p>

<p class="fragment (appear)">
<b>Se  ocorreu um  conflito  durante  um pull  request</b>,  é boa  prática
realizar  o merge  <b>na máquina  local</b> para  garantir que  a aplicação
esteja compilando.
</p>

<p class="fragment (appear)">
Em  caso  de  <i>conflitos</i>,  tenha   sempre  um  comparador  de  código
configurado para melhor visualização.
</p>

</section>
<section id="slide-orga6d41cf-split">

<p>
Editores  como Visual  Studio Code,  Emacs  e Vim  podem ajudar  neste
processo.
</p>


<div id="orgc3dd3fc" class="figure">
<p><img src="./git_img/vscode_conflito.png" alt="vscode_conflito.png" height="500px" />
</p>
</div>

</section>
<section id="slide-org554a161">
<h4 id="org554a161">Rebase</h4>
<p>
O <i>rebase</i> opera sob o seguinte fluxo:
</p>

<ol>
<li class="fragment appear">"Rebobina" sua branch atual até o ponto em comum com a <code>develop</code>;</li>
<li class="fragment appear">Recupera todos os novos commits que estão na <code>develop</code>;</li>
<li class="fragment appear">Reaplica os commits da sua branch novamente, um a um.</li>

</ol>

</section>
<section id="slide-org554a161-split">

<p>
O <i>rebase</i> efetivamente  <b>modifica o histórico da branch</b>,  por isso é
necessário ter acesso de mudança na branch.
</p>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git rebase develop
</code></pre>
</div>

<p>
"Rebase feature/xxxx onto develop"
</p>

</section>
<section id="slide-org554a161-split">


<div id="orgd509846" class="figure">
<p><img src="./git_img/rebase1.png" alt="rebase1.png" />
</p>
</div>

</section>
<section id="slide-org554a161-split">


<div id="org9865d1d" class="figure">
<p><img src="./git_img/rebase2.png" alt="rebase2.png" />
</p>
</div>

</section>
<section id="slide-org1e39c13">
<h4 id="org1e39c13">Regra de ouro do Rebase</h4>
<p>
<b>Nunca, NUNCA faça rebase em uma branch PÚBLICA.</b>
</p>

<p class="fragment (appear)">
Ex: Completar PR de <code>feature/xxxx</code> para <code>develop</code> com <i>rebase</i>.
</p>

<p class="fragment (appear)">
Motivo: Vai zuar a <code>develop</code> <b>PRA TODO MUNDO</b>.
</p>

</section>
<section id="slide-org81ac9e0">
<h4 id="org81ac9e0">Desvantagens do rebase</h4>
<ol>
<li class="fragment appear">Basicamente <b>refaz o histórico da branch</b>.</li>
<li class="fragment appear">Dependendo do uso, um <i>rebase</i> pode gerar mais de um conflito.</li>
<li class="fragment appear">O <i>rebase</i> na verdade é um "Comando Bombril".</li>

</ol>

</section>
<section id="slide-orgb8e9b01">
<h4 id="orgb8e9b01">Qual escolher?</h4>
<p>
O histórico do Git em si é um documento. Ele pode significar:
</p>

<ol>
<li class="fragment appear">O percurso de <i>COMO</i> e <i>QUANDO</i> foram feitos os commits;</li>
<li class="fragment appear">Uma linha lógica de desenvolvimento de cada task.</li>

</ol>

<p class="fragment (appear)">
Para  o  primeiro caso,  atualize  sua  branch  com <i>merges</i>.  Para  o
segundo, use <i>rebases</i>.
</p>

</section>
</section>
<section>
<section id="slide-org630ab6a">
<h2 id="org630ab6a">Produtividade com Git</h2>
<div class="outline-text-2" id="text-org630ab6a">
</div>
</section>
<section id="slide-orgcf5f83b">
<h3 id="orgcf5f83b">Commits em branches erradas</h3>
<div class="outline-text-3" id="text-orgcf5f83b">
</div>
</section>
<section id="slide-orgc7818e4">
<h4 id="orgc7818e4">Caso 1</h4>
<p>
"Estou na develop, fiz commit e não criei minha branch!"
</p>

<ol>
<li class="fragment highlight-green">Crie a branch a partir da <code>develop</code>;</li>
<li class="fragment highlight-green">Volte para a <code>develop</code>;</li>
<li class="fragment highlight-green">Desfaça o commit (apagando);</li>
<li class="fragment highlight-green">Vá para a branch nova e o commit estará lá.</li>

</ol>

</section>
<section id="slide-orgc7818e4-split">

<p>
Começando da <code>develop</code>:
</p>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git checkout -b feature/xxxx
$ git checkout develop
$ git reset --hard HEAD~1
$ git checkout feature/xxxx
</code></pre>
</div>

<p>
Para mais de um commit, ajuste o <code>git reset</code>.
</p>

</section>
<section id="slide-orga64ad1e">
<h4 id="orga64ad1e">Caso 2</h4>
<p>
"Estou na  master, fiz  commit, mas  deveria ter  criado uma  branch a
partir da develop!"
</p>

<p class="fragment (appear)">
Para começar: Nada de pânico.
</p>

</section>
<section id="slide-orga64ad1e-split">

<ol>
<li class="fragment highlight-green">Abra o log;</li>
<li class="fragment highlight-green">Anote o <i>hash</i> do commit (pode ser o pequeno);</li>
<li class="fragment highlight-green">Crie a branch normalmente;</li>
<li class="fragment highlight-green">Faça <b>cherry-pick</b> do commit para a sua branch;</li>
<li class="fragment highlight-green">Desfaça o commit na <code>master</code>.</li>

</ol>

</section>
<section id="slide-orga64ad1e-split">

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git log --oneline

$ git checkout develop
$ git checkout -b feature/xxxx
$ git cherry-pick f5a0f14
$ git checkout master
$ git reset --hard HEAD~1
</code></pre>
</div>

<ul>
<li>Pode dar conflito.</li>
<li>Para mais commits,  ajuste a quantidade de  <i>cherry-picks</i> (faça-os em
ordem!) e ajuste o <code>git reset</code>.</li>

</ul>

</section>
<section id="slide-org52dc234">
<h3 id="org52dc234">Investigando commits</h3>
<p>
"Uma   funcionalidade  funcionava   na  data   X,  mas   não  funciona
mais. Preciso descobrir qual commit quebrou a funcionalidade"
</p>

</section>
<section id="slide-org8f43eb0">
<h4 id="org8f43eb0">Git Bisect</h4>
<p>
É possível realizar  pesquisa binária via Git através  de Bisect. Para
iniciar uma sessão de Bisect:
</p>

<ol>
<li class="fragment highlight-green">Encontre o <i>hash</i> do commit em que a funcionalidade estava OK;</li>
<li class="fragment highlight-green">Inicie o processo;</li>
<li class="fragment highlight-green">Marque o commit atual como "ruim" (quebrado);</li>
<li class="fragment highlight-green">Marque o commit antigo como "bom", através do <i>hash</i>.</li>

</ol>

</section>
<section id="slide-org8f43eb0-split">

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git bisect start
$ git bisect bad
$ git bisect good f5a0f14
</code></pre>
</div>

<p>
Caso  o repositório  use <i>tags</i>,  as  versões da  aplicação podem  ser
melhor localizadas através das mesmas!
</p>

</section>
<section id="slide-org8f43eb0-split">

<p>
O Bisect realiza checkout em cada commit, a cada passo.
</p>

<ol>
<li class="fragment highlight-green">Teste a aplicação no commit atual;</li>
<li class="fragment highlight-green">Se estiver "quebrado", use o comando <code>git bisect bad</code>;</li>
<li class="fragment highlight-green">Se estiver OK, use <code>git bisect good</code>;</li>
<li class="fragment highlight-green">Repita até acabarem os passos.</li>

</ol>

</section>
<section id="slide-org8f43eb0-split">

<p>
Ao  final,  o  Git  estará  apontando para  o  commit  que  quebrou  a
funcionalidade, que poderá ser analisado:
</p>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git show

$ git show f5a0f14
</code></pre>
</div>

<p>
Para voltar o Git ao normal:
</p>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git bisect reset
</code></pre>
</div>

</section>
<section id="slide-orgd3c0e13">
<h3 id="orgd3c0e13">Revertendo commits</h3>
<p>
"É fim  da sprint, e durante  testes de integração, foi  detectado que
meu  pull  request  quebrou  algum sistema.  Foi  requisitado  que  eu
revertesse meu pull request."
</p>

</section>
<section id="slide-org1d745ed">
<h4 id="org1d745ed">Git Revert</h4>
<p>
Normalmente, pode-se fazer um revert diretamente pelo Azure DevOps.
</p>

<p>
Mas existem  situações em que um  revert pode dar conflito  e terá que
ser feito manualmente.
</p>

<p>
Ex: O PR foi  feito no início da semana e  foi realizada uma resolução
de conflitos sobre ele.
</p>

</section>
<section id="slide-org1d745ed-split">

<p>
Sem problemas!
</p>

<ol>
<li class="fragment highlight-green">Crie uma branch a partir da <code>develop</code>;</li>
<li class="fragment highlight-green">Encontre o <i>commit de merge</i> do PR e copie seu <i>hash</i>;</li>
<li class="fragment highlight-green">Realize um revert do commit;</li>
<li class="fragment highlight-green">Se necessário, resolva conflitos;</li>
<li class="fragment highlight-green">Dê push, criando a branch remota, e faça um novo PR.</li>

</ol>

</section>
<section id="slide-org1d745ed-split">

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git checkout develop
$ git checkout -b feature/revert-xxxx
$ git log --graph --oneline
$ git revert f5a0f14
$ git push -u origin feature/revert-xxxx
</code></pre>
</div>

</section>
<section id="slide-org1d745ed-split">

<p>
<b>ATENÇÃO:</b> <i>Revert</i> e <i>Reset</i> são operações DIFERENTES.
</p>

<ul>
<li class="fragment appear">O  <i>reset</i> é  capaz  de remover  commits que  estejam  em pontas  de
branches, ou resetar o estado de alteração de arquivos.</li>
<li class="fragment appear">O <i>revert</i> <b>cria um novo commit</b>,  retornando um ou mais arquivos ao
estado anterior.</li>

</ul>

</section>
<section id="slide-org1d745ed-split">

<p>
Após criar o PR de revert,  para continuar trabalhando no mesmo código
e consertar bugs, você poderá recriar sua branch e realizar um <b>revert
do revert</b>.
</p>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git checkout develop
$ git checkout -b feature/xxxx
$ git revert f12345
</code></pre>
</div>

</section>
<section id="slide-org6c020db">
<h3 id="org6c020db">Investigando operações</h3>
<p>
"Realizei um Git Reset e deletei meu último commit por acidente. O que
eu faço????"
</p>

<p class="fragment (appear)">
Primeiramente: Calma.
</p>

</section>
<section id="slide-orge52eb1d">
<h4 id="orge52eb1d">Git Reflog</h4>
<p>
O Reflog é um log especial de <i>referência de movimentos</i> do Git.
</p>

<p>
O Reflog é único para cada máquina.
</p>

</section>
<section id="slide-orge52eb1d-split">


<div id="orgd33c5b1" class="figure">
<p><img src="./git_img/gitreflog.png" alt="gitreflog.png" />
</p>
</div>

</section>
<section id="slide-orge52eb1d-split">

<p>
Pelos <i>hashes</i> do Reflog, você pode:
</p>

<ol>
<li class="fragment highlight-green">Recriar ou restaurar um arquivo a partir de um ponto no tempo;</li>
<li class="fragment highlight-green">Resetar uma branch antes de uma operação;</li>
<li class="fragment highlight-green">Desfazer praticamente qualquer coisa na máquina local.</li>

</ol>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git reflog
$ git checkout f5a0f14 -- src/main.rs
$ git reset --hard f5a0f14
</code></pre>
</div>

</section>
</section>
<section>
<section id="slide-orgf669c07">
<h2 id="orgf669c07">Extras</h2>
<div class="outline-text-2" id="text-orgf669c07">
</div>
</section>
<section id="slide-orgfc26636">
<h3 id="orgfc26636">Submodules e Subtrees</h3>
<p>
Um  repositório pode  operar como  "guarda-chuva", sendo  populado por
outros  repositórios. Isso  pode  ser interessante  para projetos  com
muitos módulos.
</p>

<div class="org-src-container">

<pre  class="src src-text"   ><code trim>[submodule "meu_submodulo"]
path = "meu_submodulo"
url = https://github.com/luksamuk/meu_submodulo
</code></pre>
</div>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git submodule init
$ git submodule update
</code></pre>
</div>

</section>
<section id="slide-orgfc26636-split">

<p>
Subárvores  incluem   o  código   inteiro  de  outro   repositório  no
repositório atual.
</p>

<div class="org-src-container">

<pre  class="src src-bash"   ><code trim>$ git remote add meu_submodulo <span style="color: #f5c791;">\</span>
  https://github.com/luksamuk/meu_submodulo

$ git subtree add --squash <span style="color: #f5c791;">\</span>
  --prefix=meu_submodulo/ <span style="color: #f5c791;">\</span>
  meu_submodulo master
</code></pre>
</div>

</section>
<section id="slide-org3e62bbb">
<h3 id="org3e62bbb">Integração Contínua (CI) e Entrega Contínua (CD)</h3>
<p>
É possível  usar soluções de  CI e CD  com repositórios Git.  Cada Git
Forge implementa isso de uma forma.
</p>

<p>
Exemplo: <a href="https://github.com/luksamuk/sonic-platformer">https://github.com/luksamuk/sonic-platformer</a>
</p>

</section>
</section>
<section>
<section id="slide-org6d60402">
<h2 id="org6d60402">Conclusão</h2>
<p>
Os  tópicos apresentados  nem arranham  a superfície  do que  Git pode
fazer.
</p>

<p>
Recomendo ver o livro do Git.
</p>

</section>
</section>
<section>
<section id="slide-orgc3f599b">
<h2 id="orgc3f599b">Dúvidas?</h2>

</section>
</section>
<section>
<section id="slide-orgcf07849">
<h2 id="orgcf07849">Referências</h2>
<p style="font-size:0.65em;text-align:left;">
Git:      Submodules      vs.       Subtrees.      Disponível      em:
<a href="https://andrey.nering.com.br/2016/git-submodules-vs-subtrees/" style="font-size:0.65em;text-align:left;">https://andrey.nering.com.br/2016/git-submodules-vs-subtrees/</a>
</p>

<p style="font-size:0.65em;text-align:left;">
GitHub Blog:  How to undo  (almost) anything with Git.  Disponível em:
<a href="https://github.blog/2015-06-08-how-to-undo-almost-anything-with-git/" style="font-size:0.65em;text-align:left;">https://github.blog/2015-06-08-how-to-undo-almost-anything-with-git/</a>
</p>

<p style="font-size:0.65em;text-align:left;">
Referência do Git. Disponível em: <a href="https://git-scm.com/docs/" style="font-size:0.65em;text-align:left;">https://git-scm.com/docs/</a>
</p>

<p style="font-size:0.65em;text-align:left;">
Livro Oficial do Git. Disponível em: <a href="https://git-scm.com/book/en/v2" style="font-size:0.65em;text-align:left;">https://git-scm.com/book/en/v2</a>
</p>

<p style="font-size:0.65em;text-align:left;">
Livro     Oficial    do     Git     (Português).    Disponível     em:
<a href="https://git-scm.com/book/pt-br/v2" style="font-size:0.65em;text-align:left;">https://git-scm.com/book/pt-br/v2</a>
</p>
</section>
</section>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/reveal.js/dist/reveal.js"></script>

<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({
slideNumber:true,

// Optional libraries used to extend on reveal.js
dependencies: [
,
 { src: 'https://cdn.jsdelivr.net/npm/reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } }]

});

</script>
</body>
</html>
